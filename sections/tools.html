<!doctype html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</title>
  <meta name="description" content="–ï–¥–∏–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞–º–∏: —Ñ–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–∞, —ç–ª–µ–∫—Ç—Ä–∏–∫–∞/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–∏–±–æ—Ä—ã/–æ–ø—Ç–∏–∫–∞, —Ä–∏–≥–≥–∏–Ω–≥/–º–µ—Ö–∞–Ω–∏–∫–∞." />
  <link rel="stylesheet" href="../assets/styles.css" />
  <!-- –°—Ç–∏–ª–∏ –∏–∑ st.txt -->
 
</head>
<body>

  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="../index.html" aria-label="–ù–∞ –≥–ª–∞–≤–Ω—É—é">
		<svg width="145" height="50" viewBox="0 0 38.364 13.23" xmlns="http://www.w3.org/2000/svg">
    <path style="fill:#f70000;fill-opacity:1;stroke:none;stroke-width:.0495373;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M9.618 10.155s.51.625.732.961c.516.19 1.589.602 2.323.817l-1.578-1.017c-.1.06-.296.018-.395-.047-.123-.082-.27-.314-.174-.419.094-.104.385-.043.509.038.097.064.203.214.163.312–ª1.543 1.06c-.423-.557-1.494-1.7-1.494-1.7l-1.46-.535Z"/>
    <path style="fill:#f70000;fill-opacity:1;stroke:none;stroke-width:.0495374;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m7.83 7.858 1.205.849.036-1.293c1.965-.044 3.226-1.408 3.226-3.041 0-1.632-1.343-2.938-3.308-2.982l-.01-.312L7.856.646Zm1.196-5.276c1.136.025 2.004.825 2.053 1.788.036 1.09-.848 1.843-1.999 1.94z"/>
    <path style="fill:#f70000;fill-opacity:1;stroke:none;stroke-width:.0495374;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m6.38.124-2.633 4.92.889.631L6.27 3.268l.12 3.574 1.168.838V.54C7.185.412 6.937.31 6.38.124ZM2.95 6.435.46 10.992l2.274-2.136 1.045-1.898ZM6.436 8.58l.055 1.154 1.073 2.468-.023-2.928Z"/>
    <path style="fill:#f70000;fill-opacity:1;stroke:none;stroke-width:.0495373;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M.496 3.215.14 4.331l9.236 5.775.239-.718Z"/>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:6.57056px;font-family:'GOST Type BU';-inkscape-font-specification:'GOST Type BU, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#f70000;fill-opacity:1;stroke:#fe0000;stroke-width:.07937857;stroke-dasharray:none;stroke-opacity:1" x="14.255" y="5.056" transform="scale(.90389 1.10633)"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:6.57056px;font-family:'GOST Type BU';-inkscape-font-specification:'GOST Type BU, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#f70000;fill-opacity:1;stroke:#fe0000;stroke-width:.07937857;stroke-dasharray:none;stroke-opacity:1" x="14.255" y="5.056">–ü–æ—Å–æ–±–∏–µ</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:3.69593px;font-family:'GOST Type BU';-inkscape-font-specification:'GOST Type BU, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#f70000;fill-opacity:1;stroke:#fe0000;stroke-width:.07937857;stroke-dasharray:none;stroke-opacity:1" x="14.553" y="8.194" transform="scale(.90389 1.10633)"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:3.69593px;font-family:'GOST Type BU';-inkscape-font-specification:'GOST Type BU, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#f70000;fill-opacity:1;stroke:#fe0000;stroke-width:.07937857;stroke-dasharray:none;stroke-opacity:1" x="14.553" y="8.194">—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤</tspan></text>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:3.69593px;font-family:'GOST Type BU';-inkscape-font-specification:'GOST Type BU, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#f70000;fill-opacity:1;stroke:#fe0000;stroke-width:.07937857;stroke-dasharray:none;stroke-opacity:1" x="14.566" y="11.108" transform="scale(.90389 1.10633)"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:3.69593px;font-family:'GOST Type BU';-inkscape-font-specification:'GOST Type BU, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#f70000;fill-opacity:1;stroke:#fe0000;stroke-width:.07937857;stroke-dasharray:none;stroke-opacity:1" x="14.566" y="11.108">–ø–æ —Å–≤–µ—Ç—É</tspan></text>
    <text xml:space="preserve" style="font-weight:700;font-size:32.4552px;font-family:Arial;-inkscape-font-specification:'Arial, Bold';fill:#fff;stroke-width:.105832" x="48.465" y="9.775"><tspan style="stroke-width:.105832" x="48.465" y="9.775"> </tspan></text>
</svg>
      </a>
      <div class="header-actions">
        <button id="searchOpenBtn" class="icon-btn" aria-label="–ü–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 21l-4.2-4.2M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="currentColor" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg>
        </button>
        <button id="themeToggleBtn" class="icon-btn" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
          <span class="theme-icon theme-icon--sun" aria-hidden="true">‚òÄÔ∏è</span>
          <span class="theme-icon theme-icon--moon" aria-hidden="true">üåô</span>
        </button>
        <button id="menuOpenBtn" class="icon-btn menu-open" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
  </header>

  <div class="layout container">
    <aside class="sidebar" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º">
      <nav class="side-nav">
        <h2 class="side-title">–†–∞–∑–¥–µ–ª—ã</h2>
        <ul class="side-list">
          <li><a href="physics.html">–§–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–∞ –∏ —Ñ–æ—Ç–æ–º–µ—Ç—Ä–∏—è</a></li>
          <li><a href="electrical-safety.html">–≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
          <li><a href="fixtures-optics.html">–ü—Ä–∏–±–æ—Ä—ã –∏ –æ–ø—Ç–∏–∫–∞</a></li>
          <li><a href="rigging-mechanics.html">–†–∏–≥–≥–∏–Ω–≥ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞</a></li>
          <li><a href="control-protocols.html">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã</a></li>
          <li><a href="workflow.html">–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å</a></li>
          <li><a href="tools.html" aria-current="page">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a></li>
          <!--<li><a href="articles.html">–°—Ç–∞—Ç—å–∏</a></li>-->
        </ul>
      </nav>
    </aside>

    <main id="content">
      <section class="hero">
        <div class="hero-inner">
          <div class="hero-copy">
            <h1>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h1>
          </div>
        </div>
      </section>

      <article id="ls-article" lang="ru">
        <div id="ls-top"></div>

        <nav id="ls-toc" aria-label="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ">
          <h2>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>
          <div class="tools-index">
            <ul>
              <li><a href="#tools-physics">–§–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–∞ –∏ —Ñ–æ—Ç–æ–º–µ—Ç—Ä–∏—è ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</a></li>
              <li><a href="#tools-electrical">–≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</a></li>
              <li><a href="#tools-fixtures">–ü—Ä–∏–±–æ—Ä—ã –∏ –æ–ø—Ç–∏–∫–∞ ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</a></li>
              <li><a href="#tools-rigging">–†–∏–≥–≥–∏–Ω–≥ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞ ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</a></li>
            </ul>
          </div>
        </nav>

        <!-- PHYSICS CALCULATORS -->
        <section id="tools-physics" aria-labelledby="tools-physics-title">
          <h2 id="tools-physics-title">–§–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–∞ –∏ —Ñ–æ—Ç–æ–º–µ—Ç—Ä–∏—è ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</h2>
          <p>–ù–∞–±–æ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ ¬´–§–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–∞¬ª: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, CTO/CTB, —Å–º–µ—à–µ–Ω–∏–µ LED, –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å, –≥–µ–æ–º–µ—Ç—Ä–∏—è –ø—è—Ç–Ω–∞, –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –ª—é–∫—Å—É, –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è, —Ñ–ª–∏–∫–µ—Ä, CCT‚Üîxy, LER.</p>

          <div class="lg-root">
            <!-- TEMP -->
            <article id="lg-calc-temp" class="lg-calc" aria-labelledby="lg-calc-temp-h">
              <h3 id="lg-calc-temp-h">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä (¬∞C ‚Üî K ‚Üî ¬∞F)</h3>
              <form class="lg-form" data-lg-calc="temp" aria-describedby="lg-calc-temp-help">
                <div class="lg-field">
                  <label for="lg-temp-c">–¶–µ–ª—å—Å–∏–π (¬∞C)</label>
                  <input id="lg-temp-c" name="c" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 25">
                </div>
                <div class="lg-field">
                  <label for="lg-temp-k">–ö–µ–ª—å–≤–∏–Ω (K)</label>
                  <input id="lg-temp-k" name="k" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 298.15">
                </div>
                <div class="lg-field">
                  <label for="lg-temp-f">–§–∞—Ä–µ–Ω–≥–µ–π—Ç (¬∞F)</label>
                  <input id="lg-temp-f" name="f" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 77">
                </div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-help" id="lg-calc-temp-help">
                  –§–æ—Ä–º—É–ª—ã: K = ¬∞C + 273.15; ¬∞F = ¬∞C √ó 9/5 + 32. –í–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –æ–±–Ω–æ–≤—è—Ç—Å—è.
                </div>
              </form>
            </article>

            <!-- CTO/CTB -->
            <article id="lg-calc-cto" class="lg-calc" aria-labelledby="lg-calc-cto-h">
              <h3 id="lg-calc-cto-h">–¶–≤–µ—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (CTO/CTB, ¬±Green)</h3>
              <form class="lg-form" data-lg-calc="cto" aria-describedby="lg-calc-cto-help">
                <div class="lg-field">
                  <label for="lg-cto-in">–ò—Å—Ö–æ–¥–Ω—ã–π CCT (K)</label>
                  <input id="lg-cto-in" name="inK" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 5600">
                </div>
                <div class="lg-field">
                  <label for="lg-cto-out">–¶–µ–ª–µ–≤–æ–π CCT (K)</label>
                  <input id="lg-cto-out" name="outK" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 3200">
                </div>
                <div class="lg-field">
                  <label for="lg-cto-green">–ñ–µ–ª–∞–µ–º—ã–π tint (¬±Green, CC)</label>
                  <input id="lg-cto-green" name="cc" type="number" step="1" placeholder="0 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)">
                </div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-cto-help">
                  mired = 10‚Å∂ / K. Œîmired = mired_out ‚àí mired_in. –ó–Ω–∞–∫–∏: + ‚Üí CTO (—Ç–µ–ø–ª–∏—Ç), ‚àí ‚Üí CTB (—Ö–æ–ª–æ–¥–∏—Ç). –¢–∏–ø–æ–≤—ã–µ —Å—Ç–µ–ø–µ–Ω–∏: Full ‚âà 131 mired, 1/2 ‚âà 65, 1/4 ‚âà 33, 1/8 ‚âà 16.
                </div>
              </form>
            </article>

            <!-- LED MIX -->
            <article id="lg-calc-ledmix" class="lg-calc" aria-labelledby="lg-calc-ledmix-h">
              <h3 id="lg-calc-ledmix-h">–°–º–µ—à–µ–Ω–∏–µ LED –∫–∞–Ω–∞–ª–æ–≤ (RGB/RGBW)</h3>
              <form class="lg-form" data-lg-calc="ledmix" aria-describedby="lg-calc-ledmix-help">
                <div class="lg-field"><label for="lg-led-r">R (%)</label><input id="lg-led-r" name="r" type="number" step="1" min="0" max="100" placeholder="0‚Äì100"></div>
                <div class="lg-field"><label for="lg-led-g">G (%)</label><input id="lg-led-g" name="g" type="number" step="1" min="0" max="100" placeholder="0‚Äì100"></div>
                <div class="lg-field"><label for="lg-led-b">B (%)</label><input id="lg-led-b" name="b" type="number" step="1" min="0" max="100" placeholder="0‚Äì100"></div>
                <div class="lg-field"><label for="lg-led-w">W (%) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label><input id="lg-led-w" name="w" type="number" step="1" min="0" max="100" placeholder="0‚Äì100"></div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-ledmix-help">
                  –í—ã–≤–æ–¥: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã CIE xy, –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–∞—è CCT (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–∫–æ–ª–æ–±–µ–ª—ã—Ö —Å–º–µ—Å–µ–π), HEX‚Äë–ø—Ä–µ–≤—å—é. –î–ª—è —Ç–æ—á–Ω—ã—Ö –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª–æ—Ä–∏–º–µ—Ç—Ä.
                </div>
              </form>
            </article>

            <!-- ILLUMINANCE -->
            <article id="lg-calc-illuminance" class="lg-calc" aria-labelledby="lg-calc-illuminance-h">
              <h3 id="lg-calc-illuminance-h">–û—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å –∏–∑ —Å–∏–ª—ã —Å–≤–µ—Ç–∞ (E –∏–∑ I –∏ d)</h3>
              <form class="lg-form" data-lg-calc="illuminance" aria-describedby="lg-calc-illuminance-help">
                <div class="lg-field"><label for="lg-ill-I">–°–∏–ª–∞ —Å–≤–µ—Ç–∞ I (–∫–¥)</label><input id="lg-ill-I" name="I" type="number" step="1" placeholder="–Ω–∞–ø—Ä., 120000"></div>
                <div class="lg-field"><label for="lg-ill-d">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ d (–º)</label><input id="lg-ill-d" name="d" type="number" step="0.01" placeholder="–Ω–∞–ø—Ä., 14"></div>
                <div class="lg-field">
                  <label for="lg-ill-mode">–†–µ–∂–∏–º</label>
                  <select id="lg-ill-mode" name="mode">
                    <option value="E">–ù–∞–π—Ç–∏ E (–ª–∫) –ø–æ I –∏ d</option>
                    <option value="I">–ù–∞–π—Ç–∏ I (–∫–¥) –ø–æ E –∏ d</option>
                  </select>
                </div>
                <div class="lg-field" data-extra="E" hidden>
                  <label for="lg-ill-E">–¶–µ–ª–µ–≤–∞—è E (–ª–∫)</label>
                  <input id="lg-ill-E" name="E" type="number" step="1" placeholder="–∫–æ–≥–¥–∞ –∏—â–µ–º I">
                </div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-illuminance-help">E = I / d¬≤. –¢–æ—á–µ—á–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫, –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å.</div>
              </form>
            </article>

            <!-- SPOT GEO -->
            <article id="lg-calc-spot" class="lg-calc" aria-labelledby="lg-calc-spot-h">
              <h3 id="lg-calc-spot-h">–î–∏–∞–º–µ—Ç—Ä –ø—è—Ç–Ω–∞ –∏ —É–≥–æ–ª (D, d, Œ∏)</h3>
              <form class="lg-form" data-lg-calc="spot" aria-describedby="lg-calc-spot-help">
                <div class="lg-field"><label for="lg-spot-d">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ d (–º)</label><input id="lg-spot-d" name="d" type="number" step="0.01" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 15"></div>
                <div class="lg-field"><label for="lg-spot-theta">–£–≥–æ–ª Œ∏ (¬∞)</label><input id="lg-spot-theta" name="theta" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 10"></div>
                <div class="lg-field"><label for="lg-spot-D">–î–∏–∞–º–µ—Ç—Ä D (–º)</label><input id="lg-spot-D" name="D" type="number" step="0.01" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 2.6"></div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-spot-help">D = 2¬∑d¬∑tan(Œ∏/2).</div>
              </form>
            </article>

            <!-- COVER -->
            <article id="lg-calc-cover" class="lg-calc" aria-labelledby="lg-calc-cover-h">
              <h3 id="lg-calc-cover-h">–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ–∫—Ä—ã—Ç–∏—è –ø–æ –ª—é–∫—Å—É</h3>
              <form class="lg-form" data-lg-calc="cover" aria-describedby="lg-calc-cover-help">
                <div class="lg-field"><label for="lg-cover-lux">–¶–µ–ª–µ–≤–æ–π –ª—é–∫—Å E (–ª–∫)</label><input id="lg-cover-lux" name="E" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 800"></div>
                <div class="lg-field"><label for="lg-cover-area">–ü–ª–æ—â–∞–¥—å (–º¬≤)</label><input id="lg-cover-area" name="A" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 540"></div>
                <div class="lg-field"><label for="lg-cover-lm">–õ—é–º–µ–Ω/–ø—Ä–∏–±–æ—Ä (–ª–º)</label><input id="lg-cover-lm" name="lm" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 15000"></div>
                <div class="lg-field"><label for="lg-cover-cu">–ö–æ—ç—Ñ—Ñ. –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (CU)</label><input id="lg-cover-cu" name="cu" type="number" step="0.05" placeholder="0.4‚Äì0.7"></div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-cover-help">Œ¶ = E¬∑A / CU; N ‚âà Œ¶ / (–ª–º/–ø—Ä–∏–±–æ—Ä).</div>
              </form>
            </article>

            <!-- OVERLAP -->
            <article id="lg-calc-overlap" class="lg-calc" aria-labelledby="lg-calc-overlap-h">
              <h3 id="lg-calc-overlap-h">–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –ø—É—á–∫–æ–≤ –∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å</h3>
              <form class="lg-form" data-lg-calc="overlap" aria-describedby="lg-calc-overlap-help">
                <div class="lg-field"><label for="lg-ovl-h">–í—ã—Å–æ—Ç–∞ –ø–æ–¥–≤–µ—Å–∞ (–º)</label><input id="lg-ovl-h" name="h" type="number" step="0.01" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 12"></div>
                <div class="lg-field"><label for="lg-ovl-theta">–£–≥–æ–ª beam (¬∞)</label><input id="lg-ovl-theta" name="theta" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 20"></div>
                <div class="lg-field"><label for="lg-ovl-tgt">–ñ–µ–ª–∞–µ–º–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ (%)</label><input id="lg-ovl-tgt" name="ovl" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 50"></div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-overlap-help">D = 2¬∑h¬∑tan(Œ∏/2). –®–∞–≥ S = D¬∑(1 ‚àí p/100).</div>
              </form>
            </article>

            <!-- FLICKER -->
            <article id="lg-calc-flicker" class="lg-calc" aria-labelledby="lg-calc-flicker-h">
              <h3 id="lg-calc-flicker-h">–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ —Ñ–ª–∏–∫–µ—Ä–∞</h3>
              <form class="lg-form" data-lg-calc="flicker" aria-describedby="lg-calc-flicker-help">
                <div class="lg-field"><label for="lg-flk-f">–ß–∞—Å—Ç–æ—Ç–∞ –®–ò–ú (–ì—Ü)</label><input id="lg-flk-f" name="f" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 4000"></div>
                <div class="lg-field"><label for="lg-flk-fps">–ö–∞–¥—Ä–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ (FPS)</label><input id="lg-flk-fps" name="fps" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 50"></div>
                <div class="lg-field"><label for="lg-flk-sh">–≠–∫—Å–ø–æ–∑–∏—Ü–∏—è (–º—Å)</label><input id="lg-flk-sh" name="sh" type="number" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 5"></div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-flicker-help">–†–∏—Å–∫ –Ω–∏–∑–æ–∫ –ø—Ä–∏ f_PWM ‚â´ 1/—ç–∫—Å–ø–æ–∑–∏—Ü–∏–∏ –∏ –≤–Ω–µ –∫—Ä–∞—Ç–Ω–æ—Å—Ç–µ–π —á–∞—Å—Ç–æ—Ç–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</div>
              </form>
            </article>

            <!-- CCT <-> xy -->
            <article id="lg-calc-cct-xy" class="lg-calc" aria-labelledby="lg-calc-cct-xy-h">
              <h3 id="lg-calc-cct-xy-h">–ü—Ä–∏–±–ª–∏–∂—ë–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ CCT ‚Üî CIE xy</h3>
              <form class="lg-form" data-lg-calc="cctxy" aria-describedby="lg-calc-cct-xy-help">
                <div class="lg-field"><label for="lg-cct-K">CCT (K)</label><input id="lg-cct-K" name="K" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 5600"></div>
                <div class="lg-field"><label for="lg-cct-x">x</label><input id="lg-cct-x" name="x" type="number" step="0.0001" placeholder="0.3127"></div>
                <div class="lg-field"><label for="lg-cct-y">y</label><input id="lg-cct-y" name="y" type="number" step="0.0001" placeholder="0.3290"></div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="Ktoxy" type="button">CCT ‚Üí xy</button>
                  <button class="lg-btn" data-action="xytoK" type="button">xy ‚Üí CCT</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-cct-xy-help">–ê–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ McCamy –∏ –ü–ª–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫—Ä–∏–≤–æ–π.</div>
              </form>
            </article>

            <!-- LER -->
            <article id="lg-calc-ler" class="lg-calc" aria-labelledby="lg-calc-ler-h">
              <h3 id="lg-calc-ler-h">–û—Ü–µ–Ω–∫–∞ LER –∏ –ø–µ—Ä–µ–≤–æ–¥ –ª–º ‚Üî –í—Ç(—Ä–∞–¥)</h3>
              <form class="lg-form" data-lg-calc="ler" aria-describedby="lg-calc-ler-help">
                <div class="lg-field"><label for="lg-ler-K">CCT (K)</label><input id="lg-ler-K" name="K" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 4000"></div>
                <div class="lg-field"><label for="lg-ler-lm">–õ—é–º–µ–Ω—ã (–ª–º)</label><input id="lg-ler-lm" name="lm" type="number" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 10000"></div>
                <div class="lg-field">
                  <label for="lg-ler-mode">–†–µ–∂–∏–º</label>
                  <select id="lg-ler-mode" name="mode">
                    <option value="lm2Wrad">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –ª–º ‚Üí –í—Ç(—Ä–∞–¥)</option>
                    <option value="Wrad2lm">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –í—Ç(—Ä–∞–¥) ‚Üí –ª–º</option>
                  </select>
                </div>
                <div class="lg-actions">
                  <button class="lg-btn" data-action="calc" type="button">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button class="lg-btn" data-action="example" type="button">–ü—Ä–∏–º–µ—Ä</button>
                  <button class="lg-btn secondary" data-action="reset" type="button">–°–±—Ä–æ—Å</button>
                </div>
                <div class="lg-out" aria-live="polite"></div>
                <div class="lg-help" id="lg-calc-ler-help">LER –¥–ª—è ¬´–±–µ–ª—ã—Ö¬ª –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚âà 300‚Äì370 –ª–º/–í—Ç(—Ä–∞–¥).</div>
              </form>
            </article>
          </div>

          <p><a href="#ls-toc">–ù–∞–∑–∞–¥ –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é</a> ¬∑ <a href="#ls-top">–ù–∞–≤–µ—Ä—Ö</a></p>
        </section>

        <!-- ELECTRICAL CALCULATORS -->
        <section id="tools-electrical" aria-labelledby="tools-electrical-title">
          <h2 id="tools-electrical-title">–≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</h2>
          <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ ¬´–≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å¬ª: —Ç–æ–∫ –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏, –±–∞–ª–∞–Ω—Å —Ñ–∞–∑/–Ω–µ–π—Ç—Ä–∞–ª—å, –ø–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è/—Å–µ—á–µ–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, –ø–æ–¥–±–æ—Ä –£–ó–û, –ø–æ–¥–±–æ—Ä IP.</p>

          <!-- 1) –¢–æ–∫ –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏ -->
          <section id="ls-calc-current-sec" aria-labelledby="ls-calc-current-title">
            <h3 id="ls-calc-current-title">1) –¢–æ–∫ –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏</h3>
            <p id="ls-calc-current-help">I1—Ñ = P / (U ¬∑ cosœÜ ¬∑ Œ∑); I3—Ñ = P / (‚àö3 ¬∑ U ¬∑ cosœÜ ¬∑ Œ∑). –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Ä–∞—Å—á–µ—Ç–Ω—ã–π —Ç–æ–∫ –∏ –±–ª–∏–∂–∞–π—à–∏–π –±–æ–ª—å—à–∏–π –Ω–æ–º–∏–Ω–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∞.</p>
            <form id="ls-calc-current" data-ls-calc="current" aria-describedby="ls-calc-current-help">
              <fieldset>
                <legend>–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</legend>
                <label for="ls-current-phase">–°–µ—Ç—å</label>
                <select id="ls-current-phase" name="phase">
                  <option value="1">–û–¥–Ω–æ—Ñ–∞–∑–Ω–∞—è</option>
                  <option value="3">–¢—Ä—ë—Ö—Ñ–∞–∑–Ω–∞—è</option>
                </select>
                <label for="ls-current-power">–ú–æ—â–Ω–æ—Å—Ç—å P</label>
                <input id="ls-current-power" name="power" type="number" min="0" step="0.001" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 6" aria-describedby="ls-current-power-unit"/>
                <select id="ls-current-power-unit">
                  <option value="kW">–∫–í—Ç</option>
                  <option value="W">–í—Ç</option>
                </select>
                <label for="ls-current-voltage">–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ U (–í)</label>
                <input id="ls-current-voltage" name="voltage" type="number" min="1" step="1" placeholder="230 –∏–ª–∏ 400"/>
                <label for="ls-current-cos">cos œÜ</label>
                <input id="ls-current-cos" name="cos" type="number" min="0.1" max="1" step="0.01" value="0.95"/>
                <label for="ls-current-eta">–ö–ü–î Œ∑</label>
                <input id="ls-current-eta" name="eta" type="number" min="0.1" max="1" step="0.01" value="0.95"/>
              </fieldset>
              <div class="ls-actions">
                <button type="button" id="ls-current-run">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="button" id="ls-current-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button type="button" data-ls-print="#ls-current-result">–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
              </div>
              <p class="ls-error" id="ls-current-error" role="alert" aria-live="assertive"></p>
              <div id="ls-current-result" class="ls-results" role="status" aria-live="polite"></div>
            </form>
          </section>

          <!-- 2) –ë–∞–ª–∞–Ω—Å —Ñ–∞–∑ –∏ –Ω–µ–π—Ç—Ä–∞–ª—å -->
          <section id="ls-calc-balance-sec" aria-labelledby="ls-calc-balance-title">
            <h3 id="ls-calc-balance-title">2) –ë–∞–ª–∞–Ω—Å —Ñ–∞–∑ –∏ –Ω–µ–π—Ç—Ä–∞–ª—å</h3>
            <p id="ls-calc-balance-help">–ñ–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–±–æ—Ä—ã –ø–æ –Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Ñ–∞–∑–µ. –ù–µ–π—Ç—Ä–∞–ª—å: I_N –ø–æ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π —Å—É–º–º–µ; –¥–ª—è SMPS —É—á–∏—Ç—ã–≤–∞–µ–º –≤–∫–ª–∞–¥ 3-–π –≥–∞—Ä–º–æ–Ω–∏–∫–∏.</p>
            <form id="ls-calc-balance" data-ls-calc="balance" aria-describedby="ls-calc-balance-help">
              <fieldset>
                <legend>–ü—Ä–∏–±–æ—Ä—ã</legend>
                <label for="ls-balance-name">–ò–º—è</label>
                <input id="ls-balance-name" type="text" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, Moving Head 470W"/>
                <label for="ls-balance-power">–ú–æ—â–Ω–æ—Å—Ç—å (–í—Ç)</label>
                <input id="ls-balance-power" type="number" min="1" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 470"/>
                <label for="ls-balance-cos">cos œÜ</label>
                <input id="ls-balance-cos" type="number" min="0.3" max="1" step="0.01" value="0.95"/>
                <label for="ls-balance-type">–¢–∏–ø</label>
                <select id="ls-balance-type">
                  <option value="res">–†–µ–∑–∏—Å—Ç–∏–≤–Ω–∞—è</option>
                  <option value="ind">–ò–Ω–¥—É–∫—Ç–∏–≤–Ω–∞—è</option>
                  <option value="smps" selected>SMPS</option>
                </select>
                <button type="button" id="ls-balance-add">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–±–æ—Ä</button>
              </fieldset>
              <div id="ls-balance-list" aria-live="polite" role="status"></div>
              <fieldset>
                <legend>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏</legend>
                <label for="ls-balance-voltage">–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ª–∏–Ω–µ–π–Ω–æ–µ (–í)</label>
                <input id="ls-balance-voltage" type="number" min="100" step="1" value="400"/>
              </fieldset>
              <div class="ls-actions">
                <button type="button" id="ls-balance-run">–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ —Ñ–∞–∑–∞–º</button>
                <button type="button" id="ls-balance-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button type="button" data-ls-print="#ls-balance-result">–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
              </div>
              <p class="ls-error" id="ls-balance-error" role="alert" aria-live="assertive"></p>
              <div id="ls-balance-result" class="ls-results" role="status" aria-live="polite"></div>
            </form>
          </section>

          <!-- 3) –ü–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è -->
          <section id="ls-calc-drop-sec" aria-labelledby="ls-calc-drop-title">
            <h3 id="ls-calc-drop-title">3) –ü–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –∏ –ø–æ–¥–±–æ—Ä —Å–µ—á–µ–Ω–∏—è</h3>
            <p id="ls-calc-drop-help">ŒîU% –æ–¥–Ω–æ—Ñ–∞–∑ = 100 ¬∑ (2 ¬∑ œÅ ¬∑ L ¬∑ I) / (S ¬∑ U). –¢—Ä—ë—Ö—Ñ–∞–∑ = 100 ¬∑ (‚àö3 ¬∑ œÅ ¬∑ L ¬∑ I) / (S ¬∑ U).</p>
            <form id="ls-calc-drop" data-ls-calc="drop" aria-describedby="ls-calc-drop-help">
              <fieldset>
                <legend>–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</legend>
                <label for="ls-drop-phase">–°–µ—Ç—å</label>
                <select id="ls-drop-phase">
                  <option value="1">–û–¥–Ω–æ—Ñ–∞–∑–Ω–∞—è</option>
                  <option value="3" selected>–¢—Ä—ë—Ö—Ñ–∞–∑–Ω–∞—è</option>
                </select>
                <label for="ls-drop-material">–ú–∞—Ç–µ—Ä–∏–∞–ª</label>
                <select id="ls-drop-material">
                  <option value="cu" selected>–ú–µ–¥—å</option>
                  <option value="al">–ê–ª—é–º–∏–Ω–∏–π</option>
                </select>
                <label for="ls-drop-length">–î–ª–∏–Ω–∞ —Ç—Ä–∞—Å—Å—ã L (–º, –æ–¥–∏–Ω –ø—É—Ç—å)</label>
                <input id="ls-drop-length" type="number" min="1" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 80"/>
                <label for="ls-drop-current">–¢–æ–∫ I (–ê)</label>
                <input id="ls-drop-current" type="number" min="0.1" step="0.1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 45"/>
                <label for="ls-drop-voltage">U –Ω–æ–º–∏–Ω–∞–ª—å–Ω–æ–µ (–í)</label>
                <input id="ls-drop-voltage" type="number" min="100" step="1" value="400"/>
                <label for="ls-drop-max">–î–æ–ø—É—Å—Ç–∏–º–æ–µ ŒîU (%)</label>
                <input id="ls-drop-max" type="number" min="1" max="15" step="0.1" value="5"/>
                <label for="ls-drop-temp">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–∞–±–µ–ª—è (¬∞C)</label>
                <input id="ls-drop-temp" type="number" min="-20" max="90" step="1" value="30"/>
              </fieldset>
              <div class="ls-actions">
                <button type="button" id="ls-drop-run">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="button" id="ls-drop-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button type="button" data-ls-print="#ls-drop-result">–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
              </div>
              <p class="ls-error" id="ls-drop-error" role="alert" aria-live="assertive"></p>
              <div id="ls-drop-result" class="ls-results" role="status" aria-live="polite"></div>
            </form>
          </section>

          <!-- 4) –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä -->
          <section id="ls-calc-gen-sec" aria-labelledby="ls-calc-gen-title">
            <h3 id="ls-calc-gen-title">4) –†–∞–∑–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞</h3>
            <p id="ls-calc-gen-help">–°—É–º–º–∏—Ä—É–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –º–æ—â–Ω–æ—Å—Ç—å, —É—á–∏—Ç—ã–≤–∞–µ–º –ø—É—Å–∫–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏ cos œÜ. –†–µ–∑–µ—Ä–≤ 20‚Äì30%.</p>
            <form id="ls-calc-gen" data-ls-calc="gen" aria-describedby="ls-calc-gen-help">
              <fieldset>
                <legend>–ü—Ä–∏–±–æ—Ä—ã</legend>
                <label for="ls-gen-name">–ò–º—è</label>
                <input id="ls-gen-name" type="text" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 8x LED Wash 800W"/>
                <label for="ls-gen-power">–ú–æ—â–Ω–æ—Å—Ç—å (–í—Ç)</label>
                <input id="ls-gen-power" type="number" min="1" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 800"/>
                <label for="ls-gen-qty">–ö–æ–ª-–≤–æ</label>
                <input id="ls-gen-qty" type="number" min="1" step="1" value="1"/>
                <label for="ls-gen-kstart">–ü—É—Å–∫–æ–≤–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</label>
                <input id="ls-gen-kstart" type="number" min="1" step="0.1" value="1.5"/>
                <button type="button" id="ls-gen-add">–î–æ–±–∞–≤–∏—Ç—å</button>
              </fieldset>
              <fieldset>
                <legend>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏</legend>
                <label for="ls-gen-cos">cos œÜ (—Å—Ä–µ–¥–Ω–∏–π)</label>
                <input id="ls-gen-cos" type="number" min="0.5" max="1" step="0.01" value="0.9"/>
                <label for="ls-gen-reserve">–†–µ–∑–µ—Ä–≤ (%)</label>
                <input id="ls-gen-reserve" type="number" min="0" max="100" step="1" value="25"/>
              </fieldset>
              <div id="ls-gen-list" aria-live="polite" role="status"></div>
              <div class="ls-actions">
                <button type="button" id="ls-gen-run">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="button" id="ls-gen-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button type="button" data-ls-print="#ls-gen-result">–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
              </div>
              <p class="ls-error" id="ls-gen-error" role="alert" aria-live="assertive"></p>
              <div id="ls-gen-result" class="ls-results" role="status" aria-live="polite"></div>
            </form>
          </section>

          <!-- 5) –£–ó–û -->
          <section id="ls-calc-rcd-sec" aria-labelledby="ls-calc-rcd-title">
            <h3 id="ls-calc-rcd-title">5) –ü–æ–¥–±–æ—Ä –£–ó–û</h3>
            <p id="ls-calc-rcd-help">–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø–æ–¥–±–æ—Ä —Å —É—á—ë—Ç–æ–º —É—Ç–µ—á–µ–∫ SMPS, —Ç–∏–ø–∞ —Å–µ—Ç–∏ –∏ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.</p>
            <form id="ls-calc-rcd" data-ls-calc="rcd" aria-describedby="ls-calc-rcd-help">
              <fieldset>
                <legend>–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</legend>
                <label for="ls-rcd-smps">SMPS-–ø—Ä–∏–±–æ—Ä–æ–≤ (—à—Ç)</label>
                <input id="ls-rcd-smps" type="number" min="0" step="1" value="12"/>
                <label for="ls-rcd-linei">–¢–æ–∫ –ª–∏–Ω–∏–∏ (–ê)</label>
                <input id="ls-rcd-linei" type="number" min="1" step="1" value="32"/>
                <label for="ls-rcd-net">–¢–∏–ø —Å–µ—Ç–∏</label>
                <select id="ls-rcd-net">
                  <option value="tn" selected>TN</option>
                  <option value="tt">TT</option>
                </select>
                <label for="ls-rcd-sel">–ù—É–∂–Ω–∞ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å?</label>
                <select id="ls-rcd-sel">
                  <option value="no" selected>–ù–µ—Ç</option>
                  <option value="yes">–î–∞</option>
                </select>
              </fieldset>
              <div class="ls-actions">
                <button type="button" id="ls-rcd-run">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="button" id="ls-rcd-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button type="button" data-ls-print="#ls-rcd-result">–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
              </div>
              <p class="ls-error" id="ls-rcd-error" role="alert" aria-live="assertive"></p>
              <div id="ls-rcd-result" class="ls-results" role="status" aria-live="polite"></div>
            </form>
          </section>

          <!-- 6) IP-–ø–æ–º–æ—â–Ω–∏–∫ -->
          <section id="ls-calc-ip-sec" aria-labelledby="ls-calc-ip-title">
            <h3 id="ls-calc-ip-title">6) IP-–ø–æ–º–æ—â–Ω–∏–∫</h3>
            <p id="ls-calc-ip-help">–ü–æ–¥–±–æ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ IP –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—é –ø–ª–æ—â–∞–¥–∫–∏.</p>
            <form id="ls-calc-ip" data-ls-calc="ip" aria-describedby="ls-calc-ip-help">
              <fieldset>
                <legend>–£—Å–ª–æ–≤–∏—è</legend>
                <label for="ls-ip-venue">–¢–∏–ø –ø–ª–æ—â–∞–¥–∫–∏</label>
                <select id="ls-ip-venue">
                  <option value="indoor">Indoor</option>
                  <option value="outdoor" selected>Outdoor</option>
                </select>
                <label for="ls-ip-exposure">–≠–∫—Å–ø–æ–∑–∏—Ü–∏—è</label>
                <select id="ls-ip-exposure">
                  <option value="dry">–°—É—Ö–æ, –ø—ã–ª–∏ –º–∞–ª–æ</option>
                  <option value="dust">–ü—ã–ª—å/–ø–µ—Å–æ–∫</option>
                  <option value="spray" selected>–ë—Ä—ã–∑–≥–∏/–¥–æ–∂–¥—å</option>
                  <option value="jets">–°—Ç—Ä—É–∏ –≤–æ–¥—ã</option>
                  <option value="salt">–ú–æ—Ä—Å–∫–æ–π –±—Ä–∏–∑/—Å–æ–ª—å</option>
                </select>
                <label for="ls-ip-wash">–ú–æ–π–∫–∞ –ø–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º?</label>
                <select id="ls-ip-wash">
                  <option value="no" selected>–ù–µ—Ç</option>
                  <option value="yes">–î–∞</option>
                </select>
              </fieldset>
              <div class="ls-actions">
                <button type="button" id="ls-ip-run">–ü–æ–¥–æ–±—Ä–∞—Ç—å</button>
                <button type="button" id="ls-ip-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                <button type="button" data-ls-print="#ls-ip-result">–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
              </div>
              <p class="ls-error" id="ls-ip-error" role="alert" aria-live="assertive"></p>
              <div id="ls-ip-result" class="ls-results" role="status" aria-live="polite"></div>
            </form>
          </section>

          <p><a href="#ls-toc">–ù–∞–∑–∞–¥ –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é</a> ¬∑ <a href="#ls-top">–ù–∞–≤–µ—Ä—Ö</a></p>
        </section>

        <!-- FIXTURES CALCULATORS -->
        <section id="tools-fixtures" aria-labelledby="tools-fixtures-title">
          <h2 id="tools-fixtures-title">–ü—Ä–∏–±–æ—Ä—ã –∏ –æ–ø—Ç–∏–∫–∞ ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</h2>
          <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ ¬´–ü—Ä–∏–±–æ—Ä—ã –∏ –æ–ø—Ç–∏–∫–∞¬ª. –î—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ ¬´–§–∏–∑–∏–∫–æ–π¬ª –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–æ–≤.</p>

          <!-- DMX‚Äë–∞–¥—Ä–µ—Å–∞—Ü–∏—è -->
          <form id="ls-calc-dmx" class="ls-calc" aria-live="polite">
            <fieldset>
              <legend>DMX‚Äë–∞–¥—Ä–µ—Å–∞—Ü–∏—è</legend>
              <p>–í—ã—á–∏—Å–ª—è–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–ª–µ–¥—É—é—â–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π –∞–¥—Ä–µ—Å. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å —É–∂–µ –∑–∞–Ω—è—Ç—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏.</p>
              <label for="ls-dmx-start">–°—Ç–∞—Ä—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å (1‚Äì512):</label>
              <input id="ls-dmx-start" name="start" type="text" inputmode="numeric" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 101">
              <label for="ls-dmx-ch">–ß–∏—Å–ª–æ –∫–∞–Ω–∞–ª–æ–≤:</label>
              <input id="ls-dmx-ch" name="ch" type="text" inputmode="numeric" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 19">
              <label for="ls-dmx-mode">–†–µ–∂–∏–º (–±–∏—Ç–Ω–æ—Å—Ç—å):</label>
              <select id="ls-dmx-mode" name="mode">
                <option value="8">8‚Äë–±–∏—Ç</option>
                <option value="16">16‚Äë–±–∏—Ç</option>
              </select>
              <label for="ls-dmx-used">–ó–∞–Ω—è—Ç—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã (–æ–ø—Ü.), —Ñ–æ—Ä–º–∞—Ç: 1-24,101-152</label>
              <input id="ls-dmx-used" name="used" type="text" inputmode="text" placeholder="1-64, 101-176">
              <div class="ls-actions">
                <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="reset">–°–±—Ä–æ—Å</button>
              </div>
              <div class="ls-results" id="ls-dmx-results" role="status" aria-live="polite"></div>
              <div class="ls-error" id="ls-dmx-error" aria-live="assertive"></div>
            </fieldset>
          </form>

          <!-- –ú–æ—â–Ω–æ—Å—Ç—å/—Ç–æ–∫ –∏ —Ñ–∞–∑–Ω–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ -->
          <form id="ls-calc-power" class="ls-calc" aria-live="polite">
            <fieldset>
              <legend>–ú–æ—â–Ω–æ—Å—Ç—å/—Ç–æ–∫ –∏ —Ñ–∞–∑–Ω–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞</legend>
              <p>Œ£P, —Ç–æ–∫–∏ 1—Ñ/3—Ñ, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –ø–æ —Ñ–∞–∑–∞–º.</p>
              <label for="ls-power-list">–°–ø–∏—Å–æ–∫ –ø—Ä–∏–±–æ—Ä–æ–≤ (–í—Ç, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ), –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É:</label>
              <textarea id="ls-power-list" name="list" rows="4" placeholder="800, 12
300, 8
1200, 4"></textarea>
              <label for="ls-power-U">–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ U (–í):</label>
              <input id="ls-power-U" name="U" type="text" inputmode="decimal" value="230">
              <label for="ls-power-cos">cos œÜ (0.6‚Äì1):</label>
              <input id="ls-power-cos" name="cos" type="text" inputmode="decimal" value="0.95">
              <label for="ls-power-limit">–õ–∏–º–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∞ –Ω–∞ —Ñ–∞–∑—É (–ê):</label>
              <input id="ls-power-limit" name="limit" type="text" inputmode="decimal" value="16">
              <div class="ls-actions">
                <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="reset">–°–±—Ä–æ—Å</button>
              </div>
              <div class="ls-results" id="ls-power-results" role="status" aria-live="polite"></div>
              <div class="ls-error" id="ls-power-error" aria-live="assertive"></div>
            </fieldset>
          </form>

          <!-- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –æ—Ç –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ -->
          <form id="ls-calc-battery" class="ls-calc" aria-live="polite">
            <fieldset>
              <legend>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –æ—Ç –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞</legend>
              <p>–í—Ä–µ–º—è ‚âà E(–í—Ç¬∑—á) / (P—Å—Ä¬∑k).</p>
              <label for="ls-bat-E">–ï–º–∫–æ—Å—Ç—å E, –í—Ç¬∑—á:</label>
              <input id="ls-bat-E" name="E" type="text" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 400">
              <label for="ls-bat-P">–°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ P, –í—Ç:</label>
              <input id="ls-bat-P" name="P" type="text" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 35">
              <label for="ls-bat-k">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–ø–∞—Å–∞ k:</label>
              <input id="ls-bat-k" name="k" type="text" inputmode="decimal" value="1.2">
              <div class="ls-actions">
                <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="reset">–°–±—Ä–æ—Å</button>
              </div>
              <div class="ls-results" id="ls-bat-results" role="status" aria-live="–ø–æ–ªite"></div>
              <div class="ls-error" id="ls-bat-error" aria-live="assertive"></div>
            </fieldset>
          </form>

          <!-- –ó—É–º‚Äë–ø–æ–∫—Ä—ã—Ç–∏–µ -->
          <form id="ls-calc-zoom" class="ls-calc" aria-live="polite">
            <fieldset>
              <legend>–ó—É–º‚Äë–ø–æ–∫—Ä—ã—Ç–∏–µ —Å—Ü–µ–Ω—ã</legend>
              <p>–î–∏–∞–º–µ—Ç—Ä—ã: dmin/dmax –ø–æ Œ∏min/Œ∏max.</p>
              <label for="ls-zoom-D">–î–∏—Å—Ç–∞–Ω—Ü–∏—è D, –º:</label>
              <input id="ls-zoom-D" name="D" type="text" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 18">
              <label for="ls-zoom-min">–ú–∏–Ω. –∑—É–º Œ∏min, –≥—Ä–∞–¥—É—Å—ã:</label>
              <input id="ls-zoom-min" name="min" type="text" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 5">
              <label for="ls-zoom-max">–ú–∞–∫—Å. –∑—É–º Œ∏max, –≥—Ä–∞–¥—É—Å—ã:</label>
              <input id="ls-zoom-max" name="max" type="text" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 50">
              <div class="ls-actions">
                <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button type="reset">–°–±—Ä–æ—Å</button>
              </div>
              <div class="ls-results" id="ls-zoom-results" role="status" aria-live="polite"></div>
              <div class="ls-error" id="ls-zoom-error" aria-live="assertive"></div>
            </fieldset>
          </form>

          <p><a href="#ls-toc">–ù–∞–∑–∞–¥ –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é</a> ¬∑ <a href="#ls-top">–ù–∞–≤–µ—Ä—Ö</a></p>
        </section>

        <!-- RIGGING CALCULATORS -->
        <section id="tools-rigging" aria-labelledby="tools-rigging-title">
          <h2 id="tools-rigging-title">–†–∏–≥–≥–∏–Ω–≥ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞ ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã</h2>

          <!-- –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –æ–ø–æ—Ä–∞—Ö -->
          <section>
            <h3>–†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –æ–ø–æ—Ä–∞—Ö (–∏–¥–µ–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∞–ª–∫–∞)</h3>
            <form onsubmit="return false" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–µ–∞–∫—Ü–∏–π –Ω–∞ –æ–ø–æ—Ä–∞—Ö">
              <fieldset>
                <label>–î–ª–∏–Ω–∞ —Ñ–µ—Ä–º—ã, –º <input id="ls-truss-L" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 12"></label>
                <label>–¢–∏–ø –Ω–∞–≥—Ä—É–∑–∫–∏
                  <select id="ls-truss-type">
                    <option value="udl">UDL (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–∞—è)</option>
                    <option value="points">–¢–æ—á–µ—á–Ω—ã–µ</option>
                  </select>
                </label>
                <div id="ls-truss-udl-opts">
                  <label>–°—É–º–º–∞—Ä–Ω—ã–π –≤–µ—Å (–∫–≥) <input id="ls-truss-W-kg" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 800"></label>
                </div>
                <div id="ls-truss-points-opts" style="display:none">
                  <small>–î–æ 3 —Ç–æ—á–µ–∫: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ –º–µ—Ç—Ä–∞—Ö –æ—Ç –ª–µ–≤–æ–π –æ–ø–æ—Ä—ã –∏ –≤–µ—Å, –∫–≥.</small>
                  <div>
                    <label>x1 <input id="ls-truss-x1" inputmode="decimal" placeholder="–º"></label>
                    <label>w1 <input id="ls-truss-w1" inputmode="decimal" placeholder="–∫–≥"></label>
                  </div>
                  <div>
                    <label>x2 <input id="ls-truss-x2" inputmode="decimal" placeholder="–º"></label>
                    <label>w2 <input id="ls-truss-w2" inputmode="decimal" placeholder="–∫–≥"></label>
                  </div>
                  <div>
                    <label>x3 <input id="ls-truss-x3" inputmode="decimal" placeholder="–º"></label>
                    <label>w3 <input id="ls-truss-w3" inputmode="decimal" placeholder="–∫–≥"></label>
                  </div>
                </div>
                <div class="ls-actions">
                  <button id="ls-truss-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button type="reset" id="ls-truss-reset">–°–±—Ä–æ—Å</button>
                </div>
              </fieldset>
              <div class="ls-results" id="ls-truss-out" aria-live="polite"></div>
            </form>
          </section>

          <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç -->
          <section>
            <h3>¬´–ì—Ä—É–±—ã–π¬ª –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</h3>
            <form onsubmit="return false" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞">
              <fieldset>
                <label>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å—Å–∞, –∫–≥ <input id="ls-dyn-m" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 800"></label>
                <label>–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
                  <select id="ls-dyn-type">
                    <option value="smooth">–ü–ª–∞–≤–Ω—ã–π –ø–æ–¥—ä–µ–º/–æ–ø—É—Å–∫–∞–Ω–∏–µ</option>
                    <option value="startstop">–°—Ç–∞—Ä—Ç/—Å—Ç–æ–ø</option>
                    <option value="jerk">–†—ã–≤–æ–∫/–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞</option>
                  </select>
                </label>
                <label>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ k<sub>care</sub> <input id="ls-dyn-care" inputmode="decimal" placeholder="–Ω–∞–ø—Ä., 1.10"></label>
                <div class="ls-actions">
                  <button id="ls-dyn-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button type="reset" id="ls-dyn-reset">–°–±—Ä–æ—Å</button>
                </div>
              </fieldset>
              <div class="ls-results" id="ls-dyn-out" aria-live="polite"></div>
            </form>
          </section>

          <!-- –£–≥–æ–ª —Å—Ç—Ä–æ–ø–∞ -->
          <section>
            <h3>–£–≥–æ–ª —Å—Ç—Ä–æ–ø–∞ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞–≥—Ä—É–∑–∫–∏</h3>
            <form onsubmit="return false" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —É–≥–ª–∞ —Å—Ç—Ä–æ–ø–∞">
              <fieldset>
                <label>–ú–∞—Å—Å–∞ –ø–æ–¥–≤–µ—Å–∞, –∫–≥ <input id="ls-mass" inputmode="decimal"></label>
                <label>–ß–∏—Å–ª–æ –≤–µ—Ç–≤–µ–π
                  <select id="ls-legs">
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                  </select>
                </label>
                <label>–£–≥–æ–ª –∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç—É, ¬∞ <input id="ls-angle" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 30"></label>
                <div class="ls-actions">
                  <button id="ls-btn-calc">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button type="reset" id="ls-btn-reset">–°–±—Ä–æ—Å</button>
                </div>
              </fieldset>
              <div class="ls-results" id="ls-out" aria-live="polite"></div>
            </form>
          </section>

          <!-- –ë—Ä–∏–¥–ª -->
          <section>
            <h3>–ü—Ä–æ—Å—Ç–æ–π –±—Ä–∏–¥–ª (–¥–≤–µ —Ç–æ—á–∫–∏)</h3>
            <form onsubmit="return false" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±—Ä–∏–¥–ª–∞">
              <fieldset>
                <label>–ü—Ä–æ–ª—ë—Ç –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ S, –º <input id="ls-br-S" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 8"></label>
                <label>–ü—Ä–æ–≤–µ—Å h, –º <input id="ls-br-h" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.2"></label>
                <label>–ú–∞—Å—Å–∞ –ø–æ–¥–≤–µ—Å–∞, –∫–≥ <input id="ls-br-m" inputmode="decimal" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 1200"></label>
                <div class="ls-actions">
                  <button id="ls-br-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                  <button type="reset" id="ls-br-reset">–°–±—Ä–æ—Å</button>
                </div>
              </fieldset>
              <div class="ls-results" id="ls-br-out" aria-live="polite"></div>
            </form>
          </section>

          <p><a href="#ls-toc">–ù–∞–∑–∞–¥ –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é</a> ¬∑ <a href="#ls-top">–ù–∞–≤–µ—Ä—Ö</a></p>
        </section>
      </article>
    </main>
  </div>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <span>¬© <span id="year"></span> –†—ã–±–∞–ª—å—á–µ–Ω–∫–æ –ê–ª–µ–∫—Å–µ–π <a href="https://3D-Event.pro">3D-Event.pro</a></span>
      </div>
      <div class="footer-right">
        <a href="#" id="backToTop" class="link-quiet">–ù–∞–≤–µ—Ä—Ö</a>
      </div>
    </div>
  </footer>

  <!-- –ü–û–ò–°–ö/–ú–ï–ù–Æ -->
  <div id="searchPanel" class="search-panel" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="searchTitle">
    <div class="search-panel__backdrop" data-close="panel"></div>
    <div class="search-panel__dialog">
      <div class="search-panel__header">
        <h2 id="searchTitle">–ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º</h2>
        <button class="icon-btn" data-close="panel" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫">‚úï</button>
      </div>
      <div class="search-panel__bar">
        <input id="searchInput" type="search" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: DMX, –ª–∏–Ω–∑–∞ –§—Ä–µ–Ω–µ–ª—è, –∞–¥—Ä–µ—Å–∞—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å‚Ä¶" autocomplete="off" />
        <button id="searchRunBtn" class="btn btn-primary">–ò—Å–∫–∞—Ç—å</button>
      </div>
      <div class="search-panel__meta">
        <a class="link-quiet" href="../index.html" data-close="panel">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        <span class="divider">‚Ä¢</span>
        <span id="searchCount" class="muted"></span>
      </div>
      <div id="searchResults" class="search-results" role="region" aria-live="polite" aria-label="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞"></div>
    </div>
  </div>

  <div id="menuPanel" class="menu-panel" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="menuTitle">
    <div class="menu-panel__backdrop" data-close="menu"></div>
    <div class="menu-panel__dialog">
      <div class="menu-panel__header">
        <h2 id="menuTitle">–†–∞–∑–¥–µ–ª—ã</h2>
        <button class="icon-btn" data-close="menu" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚úï</button>
      </div>
      <nav class="menu-panel__nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º (–º–æ–±–∏–ª—å–Ω–∞—è)">
        <ul class="menu-list">
          <li><a href="physics.html" data-close="menu">–§–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–∞ –∏ —Ñ–æ—Ç–æ–º–µ—Ç—Ä–∏—è</a></li>
          <li><a href="electrical-safety.html" data-close="menu">–≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
          <li><a href="fixtures-optics.html" data-close="menu">–ü—Ä–∏–±–æ—Ä—ã –∏ –æ–ø—Ç–∏–∫–∞</a></li>
          <li><a href="rigging-mechanics.html" data-close="menu">–†–∏–≥–≥–∏–Ω–≥ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞</a></li>
          <li><a href="control-protocols.html" data-close="menu">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã</a></li>
          <li><a href="workflow.html" data-close="menu">–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å</a></li>
          <li><a href="tools.html" data-close="menu">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a></li>
          <!--<li><a href="articles.html" data-close="menu">–°—Ç–∞—Ç—å–∏</a></li>-->
        </ul>
      </nav>
    </div>
  </div>

  <!-- SCRIPTS: Physics (lg), Electrical (ls), Fixtures (ls), Rigging (inline) -->
  <script>
    // PHYSICS calculators init (subset from physics.html)
    (function(){
      "use strict";
      function fmt(n, d){ if (n===null||n===undefined||!isFinite(n)) return '‚Äî'; d = d===undefined?2:d; return (Math.round(n*10**d)/10**d).toLocaleString('ru-RU',{minimumFractionDigits:d, maximumFractionDigits:d}); }
      function clamp(v, a, b){ return Math.min(Math.max(v, a), b); }
      function pct01(v){ return isFinite(v)? Math.min(Math.max(v,0),100)/100 : 0; }

      document.addEventListener('DOMContentLoaded', function(){
        const root = document.querySelector('#tools-physics .lg-root') || document;

        // TEMP
        (function(){
          const form = root.querySelector('[data-lg-calc="temp"]'); if (!form) return;
          const c = form.querySelector('#lg-temp-c'), k = form.querySelector('#lg-temp-k'), f = form.querySelector('#lg-temp-f');
          function updateFrom(src){
            const Cv=c.valueAsNumber, Kv=k.valueAsNumber, Fv=f.valueAsNumber;
            if (src==='C' && !Number.isNaN(Cv)){ k.valueAsNumber=+(Cv+273.15).toFixed(2); f.valueAsNumber=+(Cv*9/5+32).toFixed(2); }
            else if (src==='K' && !Number.isNaN(Kv)){ const C2=Kv-273.15; c.valueAsNumber=+C2.toFixed(2); f.valueAsNumber=+(C2*9/5+32).toFixed(2); }
            else if (src==='F' && !Number.isNaN(Fv)){ const C2=(Fv-32)*5/9; c.valueAsNumber=+C2.toFixed(2); k.valueAsNumber=+(C2+273.15).toFixed(2); }
          }
          c.addEventListener('input', ()=>updateFrom('C')); k.addEventListener('input', ()=>updateFrom('K')); f.addEventListener('input', ()=>updateFrom('F'));
          form.addEventListener('click', e=>{
            const a=e.target.closest('button[data-action]'); if(!a) return;
            if(a.dataset.action==='example'){ c.valueAsNumber=25; updateFrom('C'); }
            if(a.dataset.action==='reset'){ c.value=''; k.value=''; f.value=''; }
          });
        })();

        // CTO
        (function(){
          const form = root.querySelector('[data-lg-calc="cto"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          const mired = K => 1e6/K;
          const snap = d=>{
            const steps=[16,33,65,131]; let abs=Math.abs(d), sign=Math.sign(d)||1, best=steps[0], err=Math.abs(abs-steps[0]);
            for(const s of steps){ const e=Math.abs(abs-s); if(e<err){ err=e; best=s; } }
            return {grade:best, name:(best===131?'Full':best===65?'1/2':best===33?'1/4':'1/8'), sign};
          };
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='example'){ form.inK.value='5600'; form.outK.value='3200'; form.cc.value='0'; out.textContent=''; return; }
            if(b.dataset.action==='reset'){ form.inK.value=''; form.outK.value=''; form.cc.value=''; out.textContent=''; return; }
            if(b.dataset.action==='calc'){
              const Ki=parseFloat(form.inK.value), Ko=parseFloat(form.outK.value), CC=parseFloat(form.cc.value||'0');
              if(!(Ki>0&&Ko>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ CCT (K) &gt; 0.</span>'; return; }
              const d = mired(Ko)-mired(Ki), dir = d>0?'CTO (—Ç–µ–ø–ª–µ–µ)':(d<0?'CTB (—Ö–æ–ª–æ–¥–Ω–µ–µ)':'–Ω–µ—Ç —Å–¥–≤–∏–≥–∞');
              const s = d!==0? snap(d):null;
              const hint = d===0? '–§–∏–ª—å—Ç—Ä –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.' : `–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ${s.sign>0?'CTO':'CTB'} ${s.name} (‚âà ${s.grade} mired).`;
              const tint = (CC||0)===0 ? '¬±Green –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.' : `–î–æ–±–∞–≤—å—Ç–µ ${CC>0?'+':''}${CC} CC –ø–æ –∑–µ–ª—ë–Ω–æ–º—É.`;
              out.innerHTML = `Œîmired = ${fmt(d,2)} ‚Üí ${dir}. ${hint} ${tint}`;
            }
          });
        })();

        // LED MIX
        (function(){
          const form = root.querySelector('[data-lg-calc="ledmix"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          function rgbLin_to_XYZ(r,g,b){ return { X:0.4124564*r + 0.3575761*g + 0.1804375*b, Y:0.2126729*r + 0.7151522*g + 0.0721750*b, Z:0.0193339*r + 0.1191920*g + 0.9503041*b }; }
          function whiteXYZ(xw=0.3127,yw=0.3290){ const Y=1, X=Y*xw/yw, Z=Y*(1-xw-yw)/yw; return {X,Y,Z}; }
          function XYZ_to_xyY(X,Y,Z){ const S=X+Y+Z; if(S<=0) return {x:0,y:0,Y:0}; return {x:X/S,y:Y/S,Y}; }
          function xy_to_hex(x,y,Yp=0.6){
            if(!(y>0)) return '#000000';
            const X=(Yp/y)*x, Z=(Yp/y)*(1-x-y);
            let rl=3.2404542*X -1.5371385*Yp -0.4985314*Z;
            let gl=-0.9692660*X +1.8760108*Yp +0.0415560*Z;
            let bl=0.0556434*X -0.2040259*Yp +1.0572252*Z;
            rl=Math.max(0,rl); gl=Math.max(0,gl); bl=Math.max(0,bl);
            const lin2srgb=c=> c<=0.0031308? 12.92*c : 1.055*Math.pow(c,1/2.4)-0.055;
            const r=Math.min(255, Math.max(0, Math.round(lin2srgb(rl)*255)));
            const g=Math.min(255, Math.max(0, Math.round(lin2srgb(gl)*255)));
            const b=Math.min(255, Math.max(0, Math.round(lin2srgb(bl)*255)));
            return '#'+[r,g,b].map(v=>v.toString(16).padStart(2,'0')).join('');
          }
          function xy_to_uvp(x,y){ const d=(-2*x+12*y+3); if(Math.abs(d)<1e-9) return {up:0,vp:0}; return {up:(4*x)/d, vp:(9*y)/d}; }
          function nearWhite(x,y,t=0.03){ const a=xy_to_uvp(x,y), b=xy_to_uvp(0.3127,0.3290); return Math.hypot(a.up-b.up,a.vp-b.vp)<t; }
          function McCamy_xy2CCT(x,y){ const n=(x-0.3320)/(0.1858-y); return 449*n**3+3525*n**2+6823.3*n+5520.33; }

          form.addEventListener('click', e=>{
            const btn=e.target.closest('button[data-action]'); if(!btn) return;
            if(btn.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(btn.dataset.action==='example'){ form.r.value='40'; form.g.value='35'; form.b.value='30'; form.w.value='20'; }
            // calc
            const r=pct01(parseFloat(form.r.value)), g=pct01(parseFloat(form.g.value)), b=pct01(parseFloat(form.b.value)), w=pct01(parseFloat(form.w.value));
            if((r+g+b+w)===0){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –Ω–µ–Ω—É–ª–µ–≤–æ–π –∫–∞–Ω–∞–ª.</span>'; return; }
            const RGB=rgbLin_to_XYZ(r,g,b), D65=whiteXYZ(0.3127,0.3290);
            const X=RGB.X + w*D65.X, Y=RGB.Y + w*D65.Y, Z=RGB.Z + w*D65.Z;
            const xyY=XYZ_to_xyY(X,Y,Z); const hex=xy_to_hex(xyY.x, xyY.y, 0.6);
            let cctTxt=' (CCT –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–∫–æ–ª–æ–±–µ–ª—ã—Ö —Å–º–µ—Å–µ–π)';
            if(xyY.x>0 && xyY.y>0 && nearWhite(xyY.x, xyY.y, 0.03)){
              const cct=McCamy_xy2CCT(xyY.x,xyY.y);
              cctTxt = (isFinite(cct) && cct>800 && cct<25000)? `, –ø—Ä–∏–±–ª–∏–∑. CCT ‚âà ${Math.round(cct).toLocaleString('ru-RU')} K` : ', CCT –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞';
            }
            out.innerHTML = `xy = (${fmt(xyY.x,4)}, ${fmt(xyY.y,4)})${cctTxt}<br>HEX –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä: <span style="display:inline-block;width:1.6em;height:1.2em;border:1px solid var(--lg-border);background:${hex};vertical-align:middle;"></span> ${hex}`;
          });
        })();

        // ILLUMINANCE
        (function(){
          const form = root.querySelector('[data-lg-calc="illuminance"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          const sel = form.querySelector('select[name="mode"]');
          const extra = form.querySelector('[data-extra="E"]');
          sel.addEventListener('change', ()=>{ extra.hidden = (sel.value!=='I')? true:false; });
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.I.value='120000'; form.d.value='14'; form.mode.value='E'; out.textContent=''; }
            const mode=form.mode.value, I=parseFloat(form.I.value), d=parseFloat(form.d.value);
            if(!(d>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ d &gt; 0.</span>'; return; }
            if(mode==='E'){ if(!(I>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ I &gt; 0.</span>'; return; } out.innerHTML=`E ‚âà ${fmt(I/(d*d),1)} –ª–∫`; }
            else{ const E=parseFloat(form.E.value); if(!(E>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ E &gt; 0.</span>'; return; } out.innerHTML=`–¢—Ä–µ–±—É–µ—Ç—Å—è I ‚âà ${fmt(E*(d*d),0)} –∫–¥`; }
          });
        })();

        // SPOT
        (function(){
          const form = root.querySelector('[data-lg-calc="spot"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.d.value='14'; form.theta.value='10'; form.D.value=''; }
            const d=parseFloat(form.d.value||'0'), th=parseFloat(form.theta.value||'0')*Math.PI/180, D=parseFloat(form.D.value||'0'); let msg='';
            if(form.D.value==='' && d>0 && th>0){ msg=`D ‚âà ${fmt(2*d*Math.tan(th/2),2)} –º`; }
            else if(form.theta.value==='' && d>0 && D>0){ msg=`Œ∏ ‚âà ${fmt(2*Math.atan(D/(2*d))*180/Math.PI,2)} ¬∞`; }
            else if(form.d.value==='' && D>0 && th>0){ msg=`d ‚âà ${fmt((D/2)/Math.tan(th/2),2)} –º`; }
            else{ msg='<span class="ls-error">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –æ–¥–∏–Ω –∏–∑ —Ç—Ä—ë—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äî –µ–≥–æ –º—ã –∏ –≤—ã—á–∏—Å–ª–∏–º.</span>'; }
            out.innerHTML=msg;
          });
        })();

        // COVER
        (function(){
          const form = root.querySelector('[data-lg-calc="cover"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.E.value='800'; form.A.value='540'; form.lm.value='15000'; form.cu.value='0.55'; }
            const E=parseFloat(form.E.value), A=parseFloat(form.A.value), lm=parseFloat(form.lm.value), cu=parseFloat(form.cu.value);
            if(!(E>0 && A>0 && lm>0 && cu>0 && cu<=1)){ out.innerHTML='<span class="ls-error">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–æ–¥: E, A, –ª–º/–ø—Ä–∏–±–æ—Ä –∏ CU &gt; 0 (CU ‚â§ 1).</span>'; return; }
            const Phi=E*A/cu, N=Math.ceil(Phi/lm);
            out.innerHTML = `–ù—É–∂–Ω–æ —Å—É–º–º–∞—Ä–Ω–æ Œ¶ ‚âà ${fmt(Phi,0)} –ª–º ‚Üí –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ –ø—Ä–∏–±–æ—Ä–æ–≤: ${N}.`;
          });
        })();

        // OVERLAP
        (function(){
          const form = root.querySelector('[data-lg-calc="overlap"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.h.value='12'; form.theta.value='20'; form.ovl.value='50'; }
            const h=parseFloat(form.h.value), th=parseFloat(form.theta.value)*Math.PI/180, p=clamp(parseFloat(form.ovl.value),0,99.9);
            if(!(h>0 && th>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ –≤—ã—Å–æ—Ç—É –∏ —É–≥–æ–ª.</span>'; return; }
            const D=2*h*Math.tan(th/2), S=D*(1 - p/100), uniform = p>=50 ? '—Ö–æ—Ä–æ—à–∞—è' : (p>=30?'—Å—Ä–µ–¥–Ω—è—è':'–Ω–∏–∑–∫–∞—è');
            out.innerHTML = `D ‚âà ${fmt(D,2)} –º; —à–∞–≥ ‚âà ${fmt(S,2)} –º; –æ–∂–∏–¥–∞–µ–º–∞—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å: ${uniform}.`;
          });
        })();

        // FLICKER
        (function(){
          const form = root.querySelector('[data-lg-calc="flicker"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.f.value='4000'; form.fps.value='50'; form.sh.value='5'; }
            const f=parseFloat(form.f.value), fps=parseFloat(form.fps.value), sh=parseFloat(form.sh.value);
            if(!(f>0 && fps>0 && sh>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É, FPS –∏ —ç–∫—Å–ø–æ–∑–∏—Ü–∏—é.</span>'; return; }
            const shutterHz=1000.0/sh, ratio=f/shutterHz; let risk='–Ω–∏–∑–∫–∏–π';
            if(ratio<2) risk='–≤—ã—Å–æ–∫–∏–π'; else if(ratio<3) risk='—Å—Ä–µ–¥–Ω–∏–π';
            out.innerHTML = `–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞: <strong>${risk}</strong>. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è f ‚â• ${fmt(3*shutterHz,0)} –ì—Ü.`;
          });
        })();

        // CCT <-> xy
        (function(){
          const form = root.querySelector('[data-lg-calc="cctxy"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          function planckian_xy(K){ const t=K; const x=(t>4000)? (-4.6070e9/(t**3) + 2.9678e6/(t**2) + 0.09911e3/t + 0.244063) : (-2.0064e9/(t**3) + 1.9018e6/(t**2) + 0.24748e3/t + 0.237040); const y = -3.000*x*x + 2.870*x - 0.275; return {x,y}; }
          function McCamy_xy2CCT(x,y){ const n=(x-0.3320)/(0.1858-y); return 449*n**3 + 3525*n**2 + 6823.3*n + 5520.33; }
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.K.value='5600'; form.x.value='0.3127'; form.y.value='0.3290'; return; }
            if(b.dataset.action==='Ktoxy'){ const K=parseFloat(form.K.value); if(!(K>800)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ CCT &gt; 800 K.</span>'; return; } const xy=planckian_xy(K); form.x.value=xy.x.toFixed(4); form.y.value=xy.y.toFixed(4); out.innerHTML=`–î–ª—è ${fmt(K,0)} K ‚Üí x ‚âà ${fmt(xy.x,4)}, y ‚âà ${fmt(xy.y,4)}.`; }
            if(b.dataset.action==='xytoK'){ const x=parseFloat(form.x.value), y=parseFloat(form.y.value); if(!(x>0&&y>0&&x+y<1)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ x,y.</span>'; return; } const K=McCamy_xy2CCT(x,y); form.K.value=String(Math.round(K)); out.innerHTML=`–î–ª—è x=${fmt(x,4)}, y=${fmt(y,4)} ‚Üí CCT ‚âà ${fmt(K,0)} K.`; }
          });
        })();

        // LER
        (function(){
          const form = root.querySelector('[data-lg-calc="ler"]'); if (!form) return;
          const out = form.querySelector('.lg-out');
          function approxLER(K){ if(K<2800) return 290; if(K<3500) return 310; if(K<4500) return 330; if(K<6000) return 345; return 360; }
          form.addEventListener('click', e=>{
            const b=e.target.closest('button[data-action]'); if(!b) return;
            if(b.dataset.action==='reset'){ form.reset(); out.textContent=''; return; }
            if(b.dataset.action==='example'){ form.K.value='4000'; form.lm.value='10000'; form.mode.value='lm2Wrad'; return; }
            const K=parseFloat(form.K.value), lm=parseFloat(form.lm.value), mode=form.mode.value; if(!(K>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ CCT.</span>'; return; }
            const L=approxLER(K);
            if(mode==='lm2Wrad'){ if(!(lm>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ –ª—é–º–µ–Ω—ã.</span>'; return; } out.innerHTML=`LER ‚âà ${L} –ª–º/–í—Ç(—Ä–∞–¥); –í—Ç(—Ä–∞–¥) ‚âà ${fmt(lm/L,2)}.`; }
            else { if(!(lm>0)){ out.innerHTML='<span class="ls-error">–í–≤–µ–¥–∏—Ç–µ –í—Ç(—Ä–∞–¥) –≤ –ø–æ–ª–µ –ª—é–º–µ–Ω–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω–æ).</span>'; return; } out.innerHTML=`LER ‚âà ${L} –ª–º/–í—Ç(—Ä–∞–¥); –õ—é–º–µ–Ω—ã ‚âà ${fmt(lm*L,0)}.`; }
          });
        })();
      });
    })();
  </script>

  <script>
    // ELECTRICAL calculators init (from electrical-safety.html)
    (function(){
      'use strict';
      function q(id){ return document.getElementById(id); }
      function num(v){ return typeof v === 'number' ? v : parseFloat(String(v).replace(',', '.')); }
      function fmt(n, d=2){ if (!isFinite(n)) return '‚Äî'; return Number(n).toFixed(d); }
      function clearNode(node){ while(node && node.firstChild){ node.removeChild(node.firstChild);} }
      function setError(id, msg){ const el=q(id); if(el){ el.textContent=msg||''; } }
      function setHTML(id, html){ const el=q(id); if(el){ el.innerHTML=html; } }
      function collectPrint(targetSel){
        const el = document.querySelector(targetSel);
        if (!el) return window.print();
        const w = window.open('', '_blank', 'noopener,noreferrer'); if (!w) return window.print();
        const title = document.title || '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞';
        w.document.write('<!doctype html><html><head><meta charset="utf-8"><title>'+title+'</title></head><body>');
        w.document.write(el.outerHTML);
        w.document.write('</body></html>');
        w.document.close(); w.focus(); w.print(); w.close();
      }

      function initCurrent(){
        const btnRun = q('ls-current-run');
        const btnClear = q('ls-current-clear');
        const inputs = ['ls-current-phase','ls-current-power','ls-current-voltage','ls-current-cos','ls-current-eta'];
        btnRun && btnRun.addEventListener('click', ()=>{
          setError('ls-current-error','');
          const phase = q('ls-current-phase').value;
          let P = num(q('ls-current-power').value);
          const unit = q('ls-current-power-unit').value;
          const U = num(q('ls-current-voltage').value);
          const cos = num(q('ls-current-cos').value);
          const eta = num(q('ls-current-eta').value);
          if(!P || P<=0){ return setError('ls-current-error','–í–≤–µ–¥–∏—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å > 0'); }
          if(unit==='kW') P*=1000;
          if(!U || U<=0){ return setError('ls-current-error','–í–≤–µ–¥–∏—Ç–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ > 0'); }
          if(!cos || cos<=0 || cos>1){ return setError('ls-current-error','cos œÜ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ (0;1]'); }
          if(!eta || eta<=0 || eta>1){ return setError('ls-current-error','–ö–ü–î Œ∑ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ (0;1]'); }
          const denom = (phase==='3') ? (Math.sqrt(3)*U*cos*eta) : (U*cos*eta);
          const I = P/denom;
          const mcb=[6,10,13,16,20,25,32,40,50,63,80,100,125,160,200,250,315,400];
          let rec = mcb.find(a=>a>=I*1.1) || '‚Äî';
          const formula = (phase==='3') ? 'I = P / (‚àö3 ¬∑ U ¬∑ cosœÜ ¬∑ Œ∑)' : 'I = P / (U ¬∑ cosœÜ ¬∑ Œ∑)';
          setHTML('ls-current-result',
            '<h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h4>'+
            '<p>–§–æ—Ä–º—É–ª–∞: '+formula+'</p>'+
            '<p>P = '+fmt(P,0)+' –í—Ç, U = '+fmt(U,0)+' –í, cosœÜ = '+fmt(cos,2)+', Œ∑ = '+fmt(eta,2)+'</p>'+
            '<p><strong>I ‚âà '+fmt(I,2)+' –ê</strong></p>'+
            '<p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –Ω–æ–º–∏–Ω–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∞ (C-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ): <strong>'+rec+' –ê</strong> —Å –∑–∞–ø–∞—Å–æ–º ‚â•10%.</p>'+
            '<p><em>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</em> —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –ø—É—Å–∫–æ–≤—ã–µ —Ç–æ–∫–∏ –∏ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.</p>'
          );
        });
        btnClear && btnClear.addEventListener('click', ()=>{
          inputs.forEach(id=>{ const el=q(id); if(el && el.tagName==='INPUT') el.value=''; });
          setHTML('ls-current-result',''); setError('ls-current-error','');
        });
        const printBtn = document.querySelector('#ls-calc-current [data-ls-print]');
        printBtn && printBtn.addEventListener('click', (e)=>{ collectPrint(printBtn.getAttribute('data-ls-print')); });
      }

      function initBalance(){
        const list = [];
        function renderList(){
          const wrap = q('ls-balance-list'); clearNode(wrap);
          if(!list.length){ wrap.textContent = '–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç.'; return; }
          const ul = document.createElement('ul');
          list.forEach((it, idx)=>{
            const li=document.createElement('li');
            li.textContent=(idx+1)+') '+it.name+' ‚Äî '+it.p+' –í—Ç, cosœÜ '+it.cos+', '+it.type.toUpperCase();
            const b=document.createElement('button'); b.type='button'; b.textContent='–£–¥–∞–ª–∏—Ç—å';
            b.addEventListener('click',()=>{ list.splice(idx,1); renderList(); });
            li.appendChild(document.createTextNode(' ')); li.appendChild(b); ul.appendChild(li);
          });
          wrap.appendChild(ul);
        }
        q('ls-balance-add').addEventListener('click', ()=>{
          setError('ls-balance-error','');
          const name=q('ls-balance-name').value.trim()||'–ü—Ä–∏–±–æ—Ä';
          const p=num(q('ls-balance-power').value);
          const cos=num(q('ls-balance-cos').value);
          const type=q('ls-balance-type').value;
          if(!p || p<=0){ return setError('ls-balance-error','–í–≤–µ–¥–∏—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å –ø—Ä–∏–±–æ—Ä–∞ > 0'); }
          if(!cos || cos<=0 || cos>1){ return setError('ls-balance-error','cos œÜ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ (0;1]'); }
          list.push({name,p,cos,type});
          q('ls-balance-name').value=''; q('ls-balance-power').value=''; q('ls-balance-cos').value='0.95';
          renderList();
        });
        q('ls-balance-run').addEventListener('click', ()=>{
          setError('ls-balance-error','');
          if(!list.length){ return setError('ls-balance-error','–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–∏–±–æ—Ä'); }
          const Uline=num(q('ls-balance-voltage').value)||400;
          const Uphase=Uline/Math.sqrt(3);
          const items=list.map(it=>{
            const I=(it.p)/(Uphase*it.cos*0.95);
            const k3 = it.type==='smps' ? 0.3 : 0.0;
            return {name:it.name, I, cos:it.cos, type:it.type, k3};
          }).sort((a,b)=>b.I-a.I);
          const phases=[{name:'L1',I:0,items:[]},{name:'L2',I:0,items:[]},{name:'L3',I:0,items:[]}];
          items.forEach(dev=>{ phases.sort((a,b)=>a.I-b.I); phases[0].I += dev.I; phases[0].items.push(dev); });
          const I1=phases[0].I, I2=phases[1].I, I3=phases[2].I;
          let In=Math.sqrt(I1*I1+I2*I2+I3*I3 - I1*I2 - I2*I3 - I3*I1);
          const k3avg=items.length ? items.reduce((s,a)=>s+a.k3,0)/items.length : 0;
          In=In*(1+k3avg);
          const imbalance=(Math.max(I1,I2,I3)-Math.min(I1,I2,I3))/((I1+I2+I3)/3)*100;
          let html='<h4>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–∞–∑–∞–º</h4><div class="ls-grid">';
          phases.forEach(ph=>{
            html+='<div><strong>'+ph.name+': '+fmt(ph.I,2)+' –ê</strong><ul>';
            ph.items.forEach(d=>{ html+='<li>'+d.name+' ‚Äî '+fmt(d.I,2)+' –ê ('+d.type.toUpperCase()+')</li>'; });
            html+='</ul></div>';
          });
          html+='</div>';
          html+='<p><strong>I –Ω–µ–π—Ç—Ä–∞–ª–∏ ‚âà '+fmt(In,2)+' –ê</strong> (—É—á—Ç—ë–Ω –≤–∫–ª–∞–¥ 3-–π –≥–∞—Ä–º–æ–Ω–∏–∫–∏: '+fmt(k3avg*100,0)+'%).</p>';
          html+='<p>–î–∏—Å–±–∞–ª–∞–Ω—Å —Ñ–∞–∑ ‚âà '+fmt(imbalance,1)+'%. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ—Ä–∂–∞—Ç—å –Ω–∏–∂–µ 20%.</p>';
          setHTML('ls-balance-result', html);
        });
        q('ls-balance-clear').addEventListener('click', ()=>{
          list.splice(0); setHTML('ls-balance-list',''); setHTML('ls-balance-result',''); setError('ls-balance-error','');
        });
        const printBtn = document.querySelector('#ls-calc-balance [data-ls-print]');
        printBtn && printBtn.addEventListener('click', ()=>{ collectPrint(printBtn.getAttribute('data-ls-print')); });
      }

      function initDrop(){
        q('ls-drop-run').addEventListener('click', ()=>{
          setError('ls-drop-error','');
          const phase=q('ls-drop-phase').value;
          const mat=q('ls-drop-material').value;
          const L=num(q('ls-drop-length').value);
          const I=num(q('ls-drop-current').value);
          const U=num(q('ls-drop-voltage').value);
          const maxPct=num(q('ls-drop-max').value);
          const T=num(q('ls-drop-temp').value);
          if(!L||L<=0) return setError('ls-drop-error','–í–≤–µ–¥–∏—Ç–µ –¥–ª–∏–Ω—É > 0 –º');
          if(!I||I<=0) return setError('ls-drop-error','–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫ > 0 –ê');
          if(!U||U<=0) return setError('ls-drop-error','–í–≤–µ–¥–∏—Ç–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ > 0 –í');
          if(!maxPct||maxPct<=0) return setError('ls-drop-error','–í–≤–µ–¥–∏—Ç–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –ø–∞–¥–µ–Ω–∏–µ > 0 %');
          const rho20=(mat==='cu')?0.0175:0.0283, alpha=(mat==='cu')?0.00393:0.00403;
          const rho=rho20*(1+alpha*(T-20)); const K=(phase==='3')?Math.sqrt(3):2;
          const Smin=(K*rho*L*I)/((maxPct/100)*U);
          const std=[1.5,2.5,4,6,10,16,25,35,50,70,95,120,150,185,240,300,400];
          const Srec=std.find(s=>s>=Smin)||Smin;
          const dUpct=100*(K*rho*L*I)/(Srec*U); const dU=U*(dUpct/100);
          setHTML('ls-drop-result',
            '<h4>–ü–æ–¥–±–æ—Ä —Å–µ—á–µ–Ω–∏—è</h4>'+
            '<p>–ú–∞—Ç–µ—Ä–∏–∞–ª: '+(mat==='cu'?'–º–µ–¥—å':'–∞–ª—é–º–∏–Ω–∏–π')+', œÅ('+fmt(T,0)+'¬∞C) ‚âà '+fmt(rho,5)+' Œ©¬∑–º–º¬≤/–º.</p>'+
            '<p>–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—á—ë—Ç–Ω–æ–µ —Å–µ—á–µ–Ω–∏–µ Smin ‚âà <strong>'+fmt(Smin,2)+' –º–º¬≤</strong></p>'+
            '<p>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–µ—á–µ–Ω–∏–µ: <strong>'+fmt(Srec,0)+' –º–º¬≤</strong></p>'+
            '<p>–û–∂–∏–¥–∞–µ–º–æ–µ –ø–∞–¥–µ–Ω–∏–µ —Å '+fmt(Srec,0)+' –º–º¬≤: <strong>'+fmt(dUpct,2)+'%</strong> (‚âà '+fmt(dU,1)+' –í)</p>'+
            '<p><em>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–∫–∂–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ç–æ–∫ –∏ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–∫–ª–∞–¥–∫–∏.</em></p>'
          );
        });
        q('ls-drop-clear').addEventListener('click', ()=>{
          ['ls-drop-length','ls-drop-current'].forEach(id=>{ const el=q(id); if(el) el.value=''; });
          setError('ls-drop-error',''); setHTML('ls-drop-result','');
        });
        const printBtn = document.querySelector('#ls-calc-drop [data-ls-print]');
        printBtn && printBtn.addEventListener('click', ()=>{ collectPrint(printBtn.getAttribute('data-ls-print')); });
      }

      function initGen(){
        const list=[];
        function render(){ const wrap=q('ls-gen-list'); clearNode(wrap);
          if(!list.length){ wrap.textContent='–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç.'; return; }
          const ul=document.createElement('ul');
          list.forEach((it,idx)=>{ const li=document.createElement('li');
            li.textContent=it.name+' ‚Äî '+it.qty+'√ó'+it.p+' –í—Ç, k–ø—É—Å–∫ '+it.k;
            const b=document.createElement('button'); b.type='button'; b.textContent='–£–¥–∞–ª–∏—Ç—å'; b.addEventListener('click',()=>{ list.splice(idx,1); render(); });
            li.appendChild(document.createTextNode(' ')); li.appendChild(b); ul.appendChild(li);
          }); wrap.appendChild(ul);
        }
        q('ls-gen-add').addEventListener('click', ()=>{
          setError('ls-gen-error','');
          const name=q('ls-gen-name').value.trim()||'–ù–∞–≥—Ä—É–∑–∫–∞';
          const p=num(q('ls-gen-power').value);
          const qty=parseInt(q('ls-gen-qty').value,10)||1;
          const k=num(q('ls-gen-kstart').value)||1;
          if(!p||p<=0) return setError('ls-gen-error','–í–≤–µ–¥–∏—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å > 0');
          list.push({name,p,qty,k});
          q('ls-gen-name').value=''; q('ls-gen-power').value=''; q('ls-gen-qty').value='1'; q('ls-gen-kstart').value='1.5';
          render();
        });
        q('ls-gen-run').addEventListener('click', ()=>{
          setError('ls-gen-error',''); if(!list.length) return setError('ls-gen-error','–î–æ–±–∞–≤—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏');
          const cos=num(q('ls-gen-cos').value)||0.9; const reserve=(num(q('ls-gen-reserve').value)||25)/100;
          let Prun=0, Pstart=0;
          list.forEach(it=>{ const Pr=it.p*it.qty; Prun+=Pr; Pstart+=it.p*it.k; });
          Pstart=Math.max(Prun,Pstart);
          const kW=(Pstart/1000)*(1+reserve); const kVA=kW/cos;
          setHTML('ls-gen-result',
            '<h4>–†–∞–∑–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞</h4>'+
            '<p>–°—É–º–º–∞—Ä–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è: '+fmt(Prun/1000,2)+' –∫–í—Ç</p>'+
            '<p>–ü—É—Å–∫–æ–≤–∞—è (—É–ø—Ä–æ—â—ë–Ω–Ω–æ): '+fmt(Pstart/1000,2)+' –∫–í—Ç</p>'+
            '<p>cos œÜ —Å—Ä–µ–¥–Ω–∏–π: '+fmt(cos,2)+', —Ä–µ–∑–µ—Ä–≤: '+fmt(reserve*100,0)+'%</p>'+
            '<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ: '+fmt(kW,1)+' –∫–í—Ç (‚âà '+fmt(kVA,1)+' –∫–í–ê)</strong></p>'+
            '<p>–°–æ–≤–µ—Ç: 2√ó(0.6‚Äì0.7) –º–æ—â–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ, —Å—Ö–µ–º–∞ N+1 –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.</p>'
          );
        });
        q('ls-gen-clear').addEventListener('click', ()=>{ list.splice(0); setHTML('ls-gen-list',''); setHTML('ls-gen-result',''); setError('ls-gen-error',''); });
        const printBtn = document.querySelector('#ls-calc-gen [data-ls-print]');
        printBtn && printBtn.addEventListener('click', ()=>{ collectPrint(printBtn.getAttribute('data-ls-print')); });
      }

      function initRCD(){
        q('ls-rcd-run').addEventListener('click', ()=>{
          setError('ls-rcd-error','');
          const n=parseInt(q('ls-rcd-smps').value,10)||0;
          const I=num(q('ls-rcd-linei').value)||0;
          const net=q('ls-rcd-net').value;
          const sel=q('ls-rcd-sel').value;
          if(I<=0) return setError('ls-rcd-error','–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫ –ª–∏–Ω–∏–∏ > 0');
          const leakPer=0.7, baseLeak=2, leak=baseLeak+n*leakPer;
          let type='A', In=30; let comment=[];
          if(n>20||I>32){ comment.push('–ú–Ω–æ–≥–æ SMPS ‚Äî —Ä–∞–∑–±–µ–π—Ç–µ –Ω–∞ –±–æ–ª—å—à–µ–µ —á–∏—Å–ª–æ –≥—Ä—É–ø–ø —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –£–ó–û.'); }
          if(net==='tt'){ comment.push('TT: –£–ó–û –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö –ª–∏–Ω–∏—è—Ö.'); }
          if(sel==='yes'){ comment.push('–í—ã—à–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ ‚Äî —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –£–ó–û (—Ç–∏–ø S) –Ω–∞ 100‚Äì300 –º–ê.'); }
          if(I>63){ In=100; }
          setHTML('ls-rcd-result',
            '<h4>–ü–æ–¥–±–æ—Ä –£–ó–û (–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ)</h4>'+
            '<p>–û—Ü–µ–Ω–∫–∞ —É—Ç–µ—á–∫–∏: ~'+fmt(leak,1)+' –º–ê</p>'+
            '<p>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Ç–∏–ø <strong>'+type+'</strong>, —É—Å—Ç–∞–≤–∫–∞ <strong>'+In+' –º–ê</strong> –Ω–∞ –∫–æ–Ω–µ—á–Ω–æ–π –ª–∏–Ω–∏–∏.</p>'+
            '<p>–í–≤–æ–¥/—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –£–ó–û <strong>100‚Äì300 –º–ê —Ç–∏–ø S</strong> –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.</p>'+
            '<p><em>–ò—Ç–æ–≥–æ–≤—ã–π –ø–æ–¥–±–æ—Ä ‚Äî –ø–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è–º –∏ –Ω–æ—Ä–º–∞–º –ø–ª–æ—â–∞–¥–∫–∏.</em></p>'+
            (comment.length?'<ul><li>'+comment.join('</li><li>')+'</li></ul>':'')
          );
        });
        q('ls-rcd-clear').addEventListener('click', ()=>{ ['ls-rcd-smps','ls-rcd-linei'].forEach(id=>{ const el=q(id); if(el) el.value=''; }); setHTML('ls-rcd-result',''); setError('ls-rcd-error',''); });
        const printBtn = document.querySelector('#ls-calc-rcd [data-ls-print]');
        printBtn && printBtn.addEventListener('click', ()=>{ collectPrint(printBtn.getAttribute('data-ls-print')); });
      }

      function initIP(){
        q('ls-ip-run').addEventListener('click', ()=>{
          setError('ls-ip-error','');
          const venue=q('ls-ip-venue').value, expo=q('ls-ip-exposure').value, wash=q('ls-ip-wash').value;
          let ip1='2', ip2='0', notes=[];
          if(venue==='indoor' && expo==='dry'){ ip1='2'; ip2='0'; notes.push('–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ IP20 –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –±—Ä—ã–∑–≥.'); }
          if(venue==='indoor' && expo!=='dry'){ ip1='4'; ip2='2'; notes.push('–í–Ω—É—Ç—Ä–∏ —Å –±—Ä—ã–∑–≥–∞–º–∏/–ø—ã–ª—è–º–∏ ‚Äî IP42‚ÄìIP44.'); }
          if(venue==='outdoor'){
            if(expo==='spray'){ ip1='5'; ip2='4'; notes.push('Outdoor —Å –¥–æ–∂–¥—ë–º ‚Äî IP54 –º–∏–Ω–∏–º—É–º, –ª—É—á—à–µ IP55.'); }
            if(expo==='dust'){ ip1='5'; ip2='5'; notes.push('–ü—ã–ª—å –∏ –≤–µ—Ç–µ—Ä ‚Äî IP55, –≥–µ—Ä–º–µ—Ç–∏–∑–∏—Ä—É–π—Ç–µ –≤–≤–æ–¥—ã.'); }
            if(expo==='jets'){ ip1='6'; ip2='6'; notes.push('–°—Ç—Ä—É–∏ ‚Äî IP66. –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä—è–º–æ–≥–æ –æ–±–ª–∏–≤–∞ —â–∏—Ç–æ–≤.'); }
            if(expo==='salt'){ ip1='6'; ip2='6'; notes.push('–ú–æ—Ä—Å–∫–∞—è —Å–æ–ª—å: IP66 –∏ –∫–æ—Ä—Ä–æ–∑–∏–æ–Ω–Ω–æ—Å—Ç–æ–π–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã.'); }
            if(expo==='dry'){ ip1='4'; ip2='4'; notes.push('–ü–æ–¥ —Ç–µ–Ω—Ç–æ–º ‚Äî IP44, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç.'); }
          }
          if(wash==='yes'){ ip2='6'; notes.push('–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–æ–π–∫–∞ ‚Äî IP66/69K –¥–ª—è –ø—Ä–∏–±–æ—Ä–æ–≤/–∫–æ—Ä–ø—É—Å–æ–≤.'); }
          setHTML('ls-ip-result',
            '<h4>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å IP</h4>'+
            '<p><strong>IP'+ip1+ip2+'</strong></p>'+
            '<ul><li>'+notes.join('</li><li>')+'</li></ul>'+
            '<p>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: –∫–æ–∑—ã—Ä—å–∫–∏, –≤–ª–∞–≥–æ–∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ä–∞–∑—ä—ë–º—ã, –∫–∞–ø–ª–µ–æ—Ç–≤–æ–¥—ã, –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞–ø–∞–Ω—ã. –£—á—Ç–∏—Ç–µ –£–§ –∏ –∫–æ—Ä—Ä–æ–∑–∏—é.</p>'
          );
        });
        q('ls-ip-clear').addEventListener('click', ()=>{ setHTML('ls-ip-result',''); setError('ls-ip-error',''); });
        const printBtn = document.querySelector('#ls-calc-ip [data-ls-print]');
        printBtn && printBtn.addEventListener('click', ()=>{ collectPrint(printBtn.getAttribute('data-ls-print')); });
      }

      document.addEventListener('DOMContentLoaded', function(){
        initCurrent(); initBalance(); initDrop(); initGen(); initRCD(); initIP();
      });
    })();
  </script>

  <script>
    // FIXTURES calculators init (subset from fixtures-optics.html)
    (function(){
      "use strict";
      const root = document.getElementById('ls-article');
      if(!root){ return; }
      const qs = (s, p=root) => p.querySelector(s);
      const parseNum = (v) => { if (typeof v !== 'string') return NaN; const s=v.trim().replace(/\s+/g,'').replace(',', '.'); return s?Number(s):NaN; };
      const fmt = (n, digits=2) => { if (!isFinite(n)) return '‚Äî'; return new Intl.NumberFormat('ru-RU',{maximumFractionDigits:digits}).format(n); };

      // DMX
      (function(){
        const form = qs('#ls-calc-dmx'); if(!form) return;
        const out = qs('#ls-dmx-results'), err = qs('#ls-dmx-error');
        function setErr(m){ err.textContent=m||''; }
        function setOut(h){ out.innerHTML=h||''; }
        form.addEventListener('submit', (e)=>{
          e.preventDefault(); setErr(''); setOut('');
          const start=Math.floor(parseNum(qs('#ls-dmx-start').value));
          const ch=Math.floor(parseNum(qs('#ls-dmx-ch').value));
          const mode=qs('#ls-dmx-mode').value;
          const usedStr=qs('#ls-dmx-used').value.trim();
          if(!(start>=1 && start<=512)){ setErr('–°—Ç–∞—Ä—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 1‚Äì512.'); return; }
          if(!(ch>=1)){ setErr('–ß–∏—Å–ª–æ –∫–∞–Ω–∞–ª–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º.'); return; }
          const end=start+ch-1; if(end>512){ setErr('–î–∏–∞–ø–∞–∑–æ–Ω –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª 512 –∫–∞–Ω–∞–ª–æ–≤.'); return; }
          const usedRanges=[];
          if(usedStr){
            const parts=usedStr.split(/[,\s]+/).map(s=>s.trim()).filter(Boolean);
            for(const p of parts){
              const m=p.match(/^(\d+)\-(\d+)$/);
              if(m){ const a=Math.max(1,Math.min(512,parseInt(m[1],10)));
                const b=Math.max(1,Math.min(512,parseInt(m[2],10)));
                usedRanges.push([Math.min(a,b), Math.max(a,b)]);
              }
            }
          }
          const overlaps=usedRanges.filter(([a,b])=> !(end<a || start>b));
          const nextAddr=(function(){
            let n=end+1;
            while(n<=512){
              const blocked=usedRanges.some(([a,b])=> n>=a && n<=b);
              if(!blocked) break;
              n=Math.max(...usedRanges.filter(([a,b])=> n>=a && n<=b).map(([,b])=>b))+1;
            }
            return n<=512? n : null;
          })();
          let outHtml=`<div>–î–∏–∞–ø–∞–∑–æ–Ω: <strong>${start}‚Äì${end}</strong> (${ch} –∫–∞–Ω–∞–ª–æ–≤, —Ä–µ–∂–∏–º ${mode}‚Äë–±–∏—Ç)</div>`;
          outHtml += overlaps.length? `<div class="ls-error">–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ: ${overlaps.map(r=>r.join('‚Äì')).join(', ')}</div>` : `<div>–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.</div>`;
          outHtml += `<div>–°–ª–µ–¥—É—é—â–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π –∞–¥—Ä–µ—Å: <strong>${nextAddr? nextAddr : '–Ω–µ—Ç (–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ 512)'}</strong></div>`;
          setOut(outHtml);
        });
        form.addEventListener('reset', ()=>{ setTimeout(()=>{ setErr(''); setOut(''); },0); });
      })();

      // Power & phases
      (function(){
        const form=qs('#ls-calc-power'); if(!form) return;
        const out=qs('#ls-power-results'), err=qs('#ls-power-error');
        function setErr(m){ err.textContent=m||''; }
        function setOut(h){ out.innerHTML=h||''; }
        form.addEventListener('submit',(e)=>{
          e.preventDefault(); setErr(''); setOut('');
          const list=qs('#ls-power-list').value.trim();
          const U=parseNum(qs('#ls-power-U').value);
          let cos=parseNum(qs('#ls-power-cos').value);
          const limit=parseNum(qs('#ls-power-limit').value);
          if(!(U>0)){ setErr('–£–∫–∞–∂–∏—Ç–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ U.'); return; }
          if(!(cos>0 && cos<=1)){ setErr('cos œÜ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0‚Äì1.'); return; }
          if(!(limit>0)){ setErr('–£–∫–∞–∂–∏—Ç–µ –ª–∏–º–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∞ –Ω–∞ —Ñ–∞–∑—É.'); return; }
          const lines=list.split(/\n+/).map(s=>s.trim()).filter(Boolean);
          if(!lines.length){ setErr('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–±–æ—Ä–æ–≤.'); return; }
          const items=[]; let Psum=0;
          for(const ln of lines){
            const parts=ln.split(/[;, ]+/).map(x=>x.trim()).filter(Boolean);
            if(parts.length<1) continue;
            const p=parseNum(parts[0]); const q=parts.length>1? parseNum(parts[1]) : 1;
            if(!(p>0 && q>0)){ setErr('–°—Ç—Ä–æ–∫–∞ "'+ln+'" –Ω–µ–≤–µ—Ä–Ω–∞. –§–æ—Ä–º–∞—Ç: –º–æ—â–Ω–æ—Å—Ç—å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ'); return; }
            items.push({p,q}); Psum+=p*q;
          }
          const I1=Psum/(U*cos), I3=Psum/(Math.sqrt(3)*U*cos);
          const expanded=[]; items.forEach(({p,q})=>{ for(let i=0;i<q;i++){ expanded.push(p);} });
          const phases=[0,0,0];
          expanded.sort((a,b)=>b-a).forEach(p=>{ const idx=phases.indexOf(Math.min(...phases)); phases[idx]+=p; });
          const currents=phases.map(P=>P/(U*cos)); const warn=currents.map(I=>I>limit);
          let html=`<div>Œ£P: <strong>${fmt(Psum,0)} –í—Ç</strong></div>`;
          html += `<div>–¢–æ–∫ (1 —Ñ–∞–∑–∞): <strong>${fmt(I1,1)} –ê</strong></div>`;
          html += `<div>–¢–æ–∫ (3 —Ñ–∞–∑—ã, —Ç–µ–æ—Ä.): <strong>${fmt(I3,1)} –ê/—Ñ–∞–∑—É</strong></div>`;
          html += `<div>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–∞–∑–∞–º:</div>`;
          html += `<ul><li>L1: ${fmt(phases[0],0)} –í—Ç ‚Üí ${fmt(currents[0],1)} –ê ${warn[0]?'<span class="ls-error">(–ø–µ—Ä–µ–≥—Ä—É–∑)</span>':''}</li>`;
          html += `<li>L2: ${fmt(phases[1],0)} –í—Ç ‚Üí ${fmt(currents[1],1)} –ê ${warn[1]?'<span class="ls-error">(–ø–µ—Ä–µ–≥—Ä—É–∑)</span>':''}</li>`;
          html += `<li>L3: ${fmt(phases[2],0)} –í—Ç ‚Üí ${fmt(currents[2],1)} –ê ${warn[2]?'<span class="ls-error">(–ø–µ—Ä–µ–≥—Ä—É–∑)</span>':''}</li></ul>`;
          setOut(html);
        });
        form.addEventListener('reset', ()=>{ setTimeout(()=>{ setErr(''); setOut(''); },0); });
      })();

      // Battery
      (function(){
        const form=qs('#ls-calc-battery'); if(!form) return;
        const out=qs('#ls-bat-results'), err=qs('#ls-bat-error');
        function setErr(m){ err.textContent=m||''; }
        function setOut(h){ out.innerHTML=h||''; }
        form.addEventListener('submit', (e)=>{
          e.preventDefault(); setErr(''); setOut('');
          const E=parseNum(qs('#ls-bat-E').value); const P=parseNum(qs('#ls-bat-P').value); let k=parseNum(qs('#ls-bat-k').value); if(!(k>0)) k=1.2;
          if(!(E>0 && P>0)){ setErr('–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ E –∏ P.'); return; }
          const t=E/(P*k); const h=Math.floor(t); const m=Math.round((t-h)*60);
          setOut(`<div>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: <strong>${fmt(t,2)} —á</strong> (~${h} —á ${m} –º–∏–Ω)</div>`);
        });
        form.addEventListener('reset', ()=>{ setTimeout(()=>{ setErr(''); setOut(''); },0); });
      })();

      // Zoom
      (function(){
        const form=qs('#ls-calc-zoom'); if(!form) return;
        const out=qs('#ls-zoom-results'), err=qs('#ls-zoom-error');
        function setErr(m){ err.textContent=m||''; }
        function setOut(h){ out.innerHTML=h||''; }
        form.addEventListener('submit',(e)=>{
          e.preventDefault(); setErr(''); setOut('');
          const D=parseNum(qs('#ls-zoom-D').value), minA=parseNum(qs('#ls-zoom-min').value), maxA=parseNum(qs('#ls-zoom-max').value);
          if(!(D>0 && minA>0 && maxA>0 && maxA>=minA)){ setErr('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ D>0, —É–≥–ª—ã >0 –∏ Œ∏max ‚â• Œ∏min.'); return; }
          const dmin=2*D*Math.tan((minA*Math.PI/180)/2), dmax=2*D*Math.tan((maxA*Math.PI/180)/2);
          setOut(`<div>–ü—è—Ç–Ω–æ –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º –∑—É–º–µ: <strong>${fmt(dmin,2)} –º</strong></div><div>–ü—è—Ç–Ω–æ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∑—É–º–µ: <strong>${fmt(dmax,2)} –º</strong></div>`);
        });
        form.addEventListener('reset', ()=>{ setTimeout(()=>{ setErr(''); setOut(''); },0); });
      })();
    })();
  </script>

  <script>
    // RIGGING calculators inline inits
    (function(){
      // Truss reactions
      (function(){
        const $ = id=>document.getElementById(id);
        const type=$('ls-truss-type'), udlOpts=$('ls-truss-udl-opts'), ptsOpts=$('ls-truss-points-opts'), out=$('ls-truss-out'), L=$('ls-truss-L'), Wkg=$('ls-truss-W-kg');
        const ids=['ls-truss-x1','ls-truss-w1','ls-truss-x2','ls-truss-w2','ls-truss-x3','ls-truss-w3'];
        function showMode(){ if(type.value==='udl'){ udlOpts.style.display='block'; ptsOpts.style.display='none'; } else { udlOpts.style.display='none'; ptsOpts.style.display='block'; } }
        type && type.addEventListener('change', showMode); showMode();
        $('ls-truss-reset') && $('ls-truss-reset').addEventListener('click', ()=>{ out.textContent=''; });
        $('ls-truss-btn') && $('ls-truss-btn').addEventListener('click', ()=>{
          out.textContent=''; const l=parseFloat(L.value); if(!(l>0)){ out.innerHTML='<span class="ls-error">–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é –¥–ª–∏–Ω—É —Ñ–µ—Ä–º—ã –≤ –º–µ—Ç—Ä–∞—Ö.</span>'; return; }
          const g=9.81;
          if(type.value==='udl'){
            const wkg=parseFloat(Wkg.value); if(!(wkg>0)){ out.innerHTML='<span class="ls-error">–î–ª—è UDL —É–∫–∞–∂–∏—Ç–µ —Å—É–º–º–∞—Ä–Ω—ã–π –≤–µ—Å &gt; 0 –∫–≥.</span>'; return;}
            const R=(wkg*g)/2; out.textContent = `–û—Ü–µ–Ω–∫–∞: R‚ÇÅ ‚âà R‚ÇÇ ‚âà ${(R/g).toFixed(1)} –∫–≥—Å (–ø—Ä–∏ UDL).`;
          } else {
            const points=[]; for(let i=0;i<3;i++){ const xi=$(ids[i*2]).value.trim(), wi=$(ids[i*2+1]).value.trim();
              if(xi!=='' && wi!==''){ const x=parseFloat(xi), wkg=parseFloat(wi);
                if(!(x>=0 && x<=l && wkg>0)){ out.innerHTML='<span class="ls-error">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–∫–∏: 0 ‚â§ x ‚â§ L, –≤–µ—Å &gt; 0.</span>'; return; }
                points.push({x, W:wkg*g});
              }
            }
            if(!points.length){ out.innerHTML='<span class="ls-error">–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ç–æ—á–∫—É –Ω–∞–≥—Ä—É–∑–∫–∏.</span>'; return; }
            const Wsum=points.reduce((s,p)=>s+p.W,0), Msum=points.reduce((s,p)=>s+p.W*p.x,0);
            const R2=Msum/l, R1=Wsum-R2; if(R1<0||R2<0){ out.innerHTML='<span class="ls-error">–°—Ö–µ–º–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞: –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏.</span>'; return; }
            out.textContent = `–û—Ü–µ–Ω–∫–∞: R‚ÇÅ ‚âà ${(R1/g).toFixed(1)} –∫–≥—Å, R‚ÇÇ ‚âà ${(R2/g).toFixed(1)} –∫–≥—Å.`;
          }
        });
      })();

      // Dynamic factor
      (function(){
        const $=id=>document.getElementById(id), out=$('ls-dyn-out');
        $('ls-dyn-reset') && $('ls-dyn-reset').addEventListener('click',()=>{ out.textContent=''; });
        $('ls-dyn-btn') && $('ls-dyn-btn').addEventListener('click', ()=>{
          const mass=parseFloat($('ls-dyn-m').value);
          const care=parseFloat($('ls-dyn-care').value||'1');
          const t=$('ls-dyn-type').value;
          if(!(mass>0)){ out.innerHTML='<span class="ls-error">–£–∫–∞–∂–∏—Ç–µ –º–∞—Å—Å—É &gt; 0 –∫–≥.</span>'; return; }
          if(!(care>=1 && care<=2)){ out.innerHTML='<span class="ls-error">kcare –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [1; 2].</span>'; return; }
          const kd = t==='smooth'?1.10 : (t==='startstop'?1.30:1.60);
          const g=9.81, W=mass*g, Weq=W*kd*care;
          out.textContent = `–û—Ü–µ–Ω–∫–∞: k_d‚âà${kd.toFixed(2)}, W_eq‚âà${Weq.toFixed(0)} –ù (~${(Weq/g).toFixed(1)} –∫–≥—Å).`;
        });
      })();

      // Sling angle
      (function(){
        const $=id=>document.getElementById(id), out=$('ls-out');
        $('ls-btn-reset') && $('ls-btn-reset').addEventListener('click', ()=>{ out.textContent=''; });
        $('ls-btn-calc') && $('ls-btn-calc').addEventListener('click', ()=>{
          const m=parseFloat($('ls-mass').value), n=parseInt($('ls-legs').value,10), a=parseFloat($('ls-angle').value);
          if(!(m>0 && a>0 && a<89)){ out.innerHTML='<span class="ls-error">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–æ–¥: –º–∞—Å—Å–∞ &gt; 0, —É–≥–æ–ª (0; 89)¬∞.</span>'; return; }
          const g=9.81, W=m*g, theta=a*Math.PI/180, perLeg=(W/n)/Math.cos(theta), sf=1/Math.cos(theta);
          out.textContent = `–û—Ü–µ–Ω–∫–∞: –Ω–∞ –≤–µ—Ç–≤—å ‚âà ${(perLeg/9.81).toFixed(1)} –∫–≥—Å (–∫–æ—ç—Ñ—Ñ. —É–≥–ª–∞: ${sf.toFixed(2)}).`;
        });
      })();

      // Bridle
      (function(){
        const $=id=>document.getElementById(id), out=$('ls-br-out');
        $('ls-br-reset') && $('ls-br-reset').addEventListener('click',()=>{ out.textContent=''; });
        $('ls-br-btn') && $('ls-br-btn').addEventListener('click', ()=>{
          const Sv=parseFloat($('ls-br-S').value), hv=parseFloat($('ls-br-h').value), mv=parseFloat($('ls-br-m').value);
          if(!(Sv>0 && hv>0 && mv>0)){ out.innerHTML='<span class="ls-error">–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è S, h, m.</span>'; return; }
          const alpha=Math.atan((2*hv)/Sv), g=9.81, W=mv*g, sinA=Math.sin(alpha);
          if(!(sinA>0)){ out.innerHTML='<span class="ls-error">–ì–µ–æ–º–µ—Ç—Ä–∏—è –≤–µ–¥—ë—Ç –∫ –Ω—É–ª–µ–≤–æ–º—É —É–≥–ª—É. –£–≤–µ–ª–∏—á—å—Ç–µ –ø—Ä–æ–≤–µ—Å.</span>'; return; }
          const T=W/(2*sinA);
          out.textContent = `–û—Ü–µ–Ω–∫–∞: —É–≥–æ–ª Œ± ‚âà ${(alpha*180/Math.PI).toFixed(1)}¬∞, —É—Å–∏–ª–∏–µ –≤ –≤–µ—Ç–≤–∏ T ‚âà ${(T/9.81).toFixed(1)} –∫–≥—Å.`;
        });
      })();
    })();
  </script>

  <script src="../assets/main.js" defer></script>
</body>
</html>

